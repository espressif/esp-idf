.SSC_INIT_COND: &SSC_INIT_COND
  test script: InitCondBase
  restore post cmd set:
  - ''
  - - SSC SSC1 soc -T
    - - R SSC1 C +CLOSEALL
  - - SSC SSC1 ram
    - - 'R SSC1 C +FREEHEAP:'

.dut1_start_wifi: &dut1_start_wifi
  LIST_MERGE:
    - - SSC SSC1 op -W -a init
      - - R SSC1 C +MODE
    - - SSC SSC1 op -W -a start
      - - R SSC1 C +MODE

.dut_init_espnow: &dut_init_espnow
  LIST_MERGE:
  - - SSC SSC[1,2] espnow -D
    - - 'R SSC[1,2] C +ESPNOW:'
  - - SSC SSC[1,2] espnow -I
    - - 'R SSC[1,2] C +ESPNOW:'

initial condition:
- tag: APM1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT set to SoftAP mode and config SoftAP, enable DHCP server
  check cmd set:
  - ''
  - *dut1_start_wifi
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:2
  - - SSC SSC1 ap -Q
    - - R SSC1 RE "\+APCONFIG:%%s,%%s,\d+,\d+,\d+,4,"%%(<target_ssid>,<target_password>)
  - - SSC SSC1 dhcp -Q -o 2
    - - R SSC1 C +DHCP:AP,STARTED
  - - SSC SSC1 mac -Q -o 2
    - - R SSC1 P <target_ap_mac>
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum>
    - - R SSC1 C +SAP:OK
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum>
    - - R SSC1 C +SAP:OK
- tag: APM2
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT set to SoftAP mode, PC Wi-Fi NIC connected with SoftAP
  check cmd set:
  - ''
  - *dut1_start_wifi
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:2
  - - SSC SSC1 ap -Q
    - - R SSC1 RE "\+APCONFIG:%%s,%%s,\d+,\d+,\d+,4,"%%(<target_ssid>,<target_password>)
  - - SSC SSC1 ap -L
    - - R SSC1 RE "\+LSTA:.+,%%s"%%(<pc_ip_wifi>)
  - - SSC SSC1 dhcp -Q -o 2
    - - R SSC1 C +DHCP:AP,STARTED
  - - SSC SSC1 mac -Q -o 2
    - - R SSC1 P <target_ap_mac>
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum>
    - - R SSC1 C +SAP:OK
  - - WIFI <pc_wifi_nic> CONN <target_ssid> <target_password> <pc_ip_wifi> <target_auth>
      <target_encryption>
    - - R PC_COM NC ERROR C +WIFICONN:OK
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum>
    - - R SSC1 C +SAP:OK
  - - WIFI <pc_wifi_nic> CONN <target_ssid> <target_password> <pc_ip_wifi> <target_auth>
      <target_encryption>
    - - R PC_COM NC ERROR C +WIFICONN:OK
- tag: APO1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT set to SoftAP mode and config SoftAP, enable DHCP server
  check cmd set:
  - ''
  - *dut1_start_wifi
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:2
  - - SSC SSC1 ap -Q
    - - R SSC1 RE "\+APCONFIG:%%s,%%s,\d+,\d+,\d+,4,"%%(<target_ssid>,<target_password>)
  - - SSC SSC1 dhcp -Q -o 2
    - - R SSC1 C +DHCP:AP,STARTED
  - - SSC SSC1 mac -Q -o 2
    - - R SSC1 P <target_ap_mac>
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum>
    - - R SSC1 C +SAP:OK
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum>
    - - R SSC1 C +SAP:OK
- tag: APO2
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT set to SoftAP mode, PC Wi-Fi NIC connected with SoftAP
  check cmd set:
  - ''
  - *dut1_start_wifi
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:2
  - - SSC SSC1 ap -Q
    - - R SSC1 RE "\+APCONFIG:%%s,%%s,\d+,\d+,\d+,4,"%%(<target_ssid>,<target_password>)
  - - SSC SSC1 ap -L
    - - R SSC1 RE "\+LSTA:.+,%%s"%%(<pc_ip_wifi>)
  - - SSC SSC1 dhcp -Q -o 2
    - - R SSC1 C +DHCP:AP,STARTED
  - - SSC SSC1 mac -Q -o 2
    - - R SSC1 P <target_ap_mac>
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum>
    - - R SSC1 C +SAP:OK
  - - WIFI <pc_wifi_nic> CONN <target_ssid> <target_password> <pc_ip_wifi> <target_auth>
      <target_encryption>
    - - R PC_COM NC ERROR C +WIFICONN:OK
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum>
    - - R SSC1 C +SAP:OK
  - - WIFI <pc_wifi_nic> CONN <target_ssid> <target_password> <pc_ip_wifi> <target_auth>
      <target_encryption>
    - - R PC_COM NC ERROR C +WIFICONN:OK
- tag: APSTA1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT set to STA+SoftAP mode, config SoftAP and enable DHCP server
  check cmd set:
  - ''
  - *dut1_start_wifi
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:3
  - - SSC SSC1 ap -Q
    - - R SSC1 RE "\+APCONFIG:%%s,%%s,\d+,\d+,\d+,4,"%%(<target_ssid>,<target_password>)
  - - SSC SSC1 dhcp -Q -o 2
    - - R SSC1 C +DHCP:AP,STARTED
  - - SSC SSC1 mac -Q -o 2
    - - R SSC1 P <target_ap_mac>
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 3
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum>
    - - R SSC1 C +SAP:OK
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 3
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum>
    - - R SSC1 C +SAP:OK
- tag: APSTA2
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT set to STA+SoftAP mode, PC Wi-Fi NIC connected with SoftAP
  check cmd set:
  - ''
  - *dut1_start_wifi
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:3
  - - SSC SSC1 ap -Q
    - - R SSC1 RE "\+APCONFIG:%%s,%%s,\d+,\d+,\d+,4,"%%(<target_ssid>,<target_password>)
  - - SSC SSC1 ap -L
    - - R SSC1 RE "\+LSTA:.+,%%s"%%(<pc_ip_wifi>)
  - - SSC SSC1 dhcp -Q -o 2
    - - R SSC1 C +DHCP:AP,STARTED
  - - SSC SSC1 mac -Q -o 2
    - - R SSC1 P <target_ap_mac>
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 3
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum>
    - - R SSC1 C +SAP:OK
  - - WIFI <pc_wifi_nic> CONN <target_ssid> <target_password> <pc_ip_wifi> <target_auth>
      <target_encryption>
    - - R PC_COM NC ERROR C +WIFICONN:OK
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 3
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum>
    - - R SSC1 C +SAP:OK
  - - WIFI <pc_wifi_nic> CONN <target_ssid> <target_password> <pc_ip_wifi> <target_auth>
      <target_encryption>
    - - R PC_COM NC ERROR C +WIFICONN:OK
- tag: APWIFISTO
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT set to SoftAP mode, stop Wi-Fi
  check cmd set:
  - ''
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:2
  - - SSC SSC1 op -W -a init
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a start
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a stop
    - - R SSC1 C +MODE:OK
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a init
    - - R SSC1 c +MODE:OK
  - - SSC SSC1 op -W -a start
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a stop
    - - R SSC1 C +MODE:OK
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a init
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a start
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a stop
    - - R SSC1 C +MODE:OK
- tag: APM2_MDNS
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT set to SoftAP mode, PC Wi-Fi NIC connected with SoftAP, restart MDNS
  check cmd set:
  - ''
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:2
  - - SSC SSC1 ap -Q
    - - R SSC1 RE "\+APCONFIG:%%s,%%s,7,\d+,\d+,4,"%%(<target_ssid>,<target_password>)
  - - SSC SSC1 ap -L
    - - R SSC1 RE "\+LSTA:.+,%%s"%%(<pc_ip_wifi>)
  - - SSC SSC1 dhcp -Q -o 2
    - - R SSC1 C +DHCP:AP,STARTED
  - - SSC SSC1 mac -Q -o 2
    - - R SSC1 P <target_ap_mac>
  - - SSC SSC1 mdns -T
    - - R SSC1 C +MDNS:OK
  - - SSC SSC1 mdns -I
    - - R SSC1 C +MDNS:OK
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 7
    - - R SSC1 C +SAP:OK
  - - WIFI <pc_wifi_nic> CONN <target_ssid> <target_password> <pc_ip_wifi> <target_auth>
      <target_encryption>
    - - R PC_COM NC ERROR C +WIFICONN:OK
  - - SSC SSC1 mdns -T
    - - R SSC1 C +MDNS:OK
  - - SSC SSC1 mdns -I
    - - R SSC1 C +MDNS:OK
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 7
    - - R SSC1 C +SAP:OK
  - - WIFI <pc_wifi_nic> CONN <target_ssid> <target_password> <pc_ip_wifi> <target_auth>
      <target_encryption>
    - - R PC_COM NC ERROR C +WIFICONN:OK
  - - SSC SSC1 mdns -T
    - - R SSC1 C +MDNS:OK
  - - SSC SSC1 mdns -I
    - - R SSC1 C +MDNS:OK
- tag: BLE_CONN2
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) enable BLE one 2 DUTs, GATT service 0xA000 started on DUT2, DUT1 connected with DUT2
  check cmd set:
  - ''
  - - ASSERT
    - - ''
  restore cmd set:
  - ''
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC[1-2] sta -D
    - []
  - - SSC SSC[1-2] bt -D -z init
    - - 'R SSC[1-2] C +BT:'
  - - SSC SSC[1-2] bt -D -z enable
    - - 'R SSC[1-2] C +BT:'
  - - SSC SSC[1-2] ble -R
    - - 'R SSC[1-2] C +BLE:'
  - - SSC SSC[1-2] bleconn -D -z all
    - - 'R SSC[1-2] C +BLECONN:'
  - - SSC SSC[1-2] blesmp -B -z clear
    - - R SSC[1-2] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-2] gatts -S -z delete
    - - 'R SSC[1-2] C +GATTS:'
  - - SSC SSC[1-2] gattc -U -z all
    - - R SSC[1-2] C +GATTC:OK
  - - SSC SSC2 gatts -S -z load -p 0xA0
    - - R SSC2 C +GATTS:StartService,OK,A000
  - - SSC SSC[1-2] bleadv -D -z stop
    - - R SSC[1-2] C +BLEADV:Stop
  - - SSC SSC[1-2] ble -S -z public
    - - R SSC[1-2] C +BLE:OK
  - - SSC SSC2 bleadv -L -c 0 -t 3
    - - R SSC2 C +BLEADV:SetAdv,OK
  - - SSC SSC2 bleadv -D -z start
    - - R SSC2 C +BLEADV:Start,OK
  - - SSC SSC1 gattc -F -r <dut2_bt_mac>
    - - R SSC1 C +GATTC:OK
  - - SSC SSC1 bleconn -C -p 0x10 -a <dut2_bt_mac>
    - - R SSC1 C +BLECONN:GapConnect,OK
      - P SSC2 C +BLECONN:GapConnect,OK
  force restore cmd set:
  - ''
  - - SSC SSC[1-2] reboot
    - - R SSC[1-2] C !!!ready!!!
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC[1-2] sta -D
    - []
  - - SSC SSC[1-2] ble -R
    - - 'R SSC[1-2] C +BLE:'
  - - SSC SSC[1-2] bleconn -D -z all
    - - 'R SSC[1-2] C +BLECONN:'
  - - SSC SSC[1-2] blesmp -B -z clear
    - - R SSC[1-2] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-2] gatts -S -z delete
    - - 'R SSC[1-2] C +GATTS:'
  - - SSC SSC[1-2] gattc -U -z all
    - - R SSC[1-2] C +GATTC:OK
  - - SSC SSC2 gatts -S -z load -p 0xA0
    - - R SSC2 C +GATTS:StartService,OK,A000
  - - SSC SSC[1-2] bleadv -D -z stop
    - - R SSC[1-2] C +BLEADV:Stop
  - - SSC SSC[1-2] ble -S -z public
    - - R SSC[1-2] C +BLE:OK
  - - SSC SSC2 bleadv -L -c 0 -t 3
    - - R SSC2 C +BLEADV:SetAdv,OK
  - - SSC SSC2 bleadv -D -z start
    - - R SSC2 C +BLEADV:Start,OK
  - - SSC SSC1 gattc -F -r <dut2_bt_mac>
    - - R SSC1 C +GATTC:OK
  - - SSC SSC1 bleconn -C -p 0x10 -a <dut2_bt_mac>
    - - R SSC1 C +BLECONN:GapConnect,OK
      - P SSC2 C +BLECONN:GapConnect,OK
  restore post cmd set:
  - ''
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: BLE_CONN3
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) enable BLE on 2 DUTs, GATT service 0xA002 started on DUT2, DUT1 connected with DUT2
  check cmd set:
  - ''
  - - ASSERT
    - - ''
  restore cmd set:
  - ''
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC[1-2] sta -D
    - []
  - - SSC SSC[1-2] bt -D -z init
    - - 'R SSC[1-2] C +BT:'
  - - SSC SSC[1-2] bt -D -z enable
    - - 'R SSC[1-2] C +BT:'
  - - SSC SSC[1-2] ble -R
    - - 'R SSC[1-2] C +BLE:'
  - - SSC SSC[1-2] bleconn -D -z all
    - - 'R SSC[1-2] C +BLECONN:'
  - - SSC SSC[1-2] blesmp -B -z clear
    - - R SSC[1-2] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-2] gatts -S -z delete
    - - 'R SSC[1-2] C +GATTS:'
  - - SSC SSC[1-2] gattc -U -z all
    - - R SSC[1-2] C +GATTC:OK
  - - SSC SSC2 gatts -S -z load -p 0xA2
    - - R SSC2 C +GATTS:StartService,OK,A002
  - - SSC SSC[1-2] bleadv -D -z stop
    - - R SSC[1-2] C +BLEADV:Stop
  - - SSC SSC[1-2] ble -S -z public
    - - R SSC[1-2] C +BLE:OK
  - - SSC SSC2 bleadv -L -c 0 -t 3
    - - R SSC2 C +BLEADV:SetAdv,OK
  - - SSC SSC2 bleadv -D -z start
    - - R SSC2 C +BLEADV:OK
  - - SSC SSC1 gattc -F -r <dut2_bt_mac>
    - - R SSC1 C +GATTC:OK
  - - SSC SSC1 bleconn -C -p 0x10 -a <dut2_bt_mac>
    - - R SSC1 C +BLECONN:GapConnect,OK
      - P SSC2 C +BLECONN:GapConnect,OK
  force restore cmd set:
  - ''
  - - SSC SSC[1-2] reboot
    - - R SSC[1-2] C !!!ready!!!
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC[1-2] sta -D
    - []
  - - SSC SSC[1-2] ble -R
    - - 'R SSC[1-2] C +BLE:'
  - - SSC SSC[1-2] bleconn -D -z all
    - - 'R SSC[1-2] C +BLECONN:'
  - - SSC SSC[1-2] blesmp -B -z clear
    - - R SSC[1-2] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-2] gatts -S -z delete
    - - 'R SSC[1-2] C +GATTS:'
  - - SSC SSC[1-2] gattc -U -z all
    - - R SSC[1-2] C +GATTC:OK
  - - SSC SSC2 gatts -S -z load -p 0xA2
    - - R SSC2 C +GATTS:StartService,OK,A002
  - - SSC SSC[1-2] bleadv -D -z stop
    - - R SSC[1-2] C +BLEADV:Stop
  - - SSC SSC[1-2] ble -S -z public
    - - R SSC[1-2] C +BLE:OK
  - - SSC SSC2 bleadv -L -c 0 -t 3
    - - R SSC2 C +BLEADV:SetAdv,OK
  - - SSC SSC2 bleadv -D -z start
    - - R SSC2 C +BLEADV:OK
  - - SSC SSC1 gattc -F -r <dut2_bt_mac>
    - - R SSC1 C +GATTC:OK
  - - SSC SSC1 bleconn -C -p 0x10 -a <dut2_bt_mac>
    - - R SSC1 C +BLECONN:GapConnect,OK
      - P SSC2 C +BLECONN:GapConnect,OK
  restore post cmd set:
  - ''
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: BLE_CONN4
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) enable BLE and create both GATTC and GATTS app on DUT1 and DUT2. DUT1 connected with DUT2. use GATT service A002.
  check cmd set:
  - ''
  - - ASSERT
    - - ''
  restore cmd set:
  - ''
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC[1-2] sta -D
    - []
  - - SSC SSC[1-2] bt -D -z init
    - - 'R SSC[1-2] C +BT:'
  - - SSC SSC[1-2] bt -D -z enable
    - - 'R SSC[1-2] C +BT:'
  - - SSC SSC[1-2] ble -R
    - - 'R SSC[1-2] C +BLE:'
  - - SSC SSC[1-2] bleconn -D -z all
    - - 'R SSC[1-2] C +BLECONN:'
  - - SSC SSC[1-2] blesmp -B -z clear
    - - R SSC[1-2] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-2] gatts -S -z delete
    - - 'R SSC[1-2] C +GATTS:'
  - - SSC SSC[1-2] gattc -U -z all
    - - R SSC[1-2] C +GATTC:OK
  - - SSC SSC[1-2] gatts -S -z load -p 0xA2
    - - R SSC[1-2] C +GATTS:StartService,OK,A002
  - - SSC SSC[1-2] bleadv -D -z stop
    - - R SSC[1-2] C +BLEADV:Stop
  - - SSC SSC[1-2] ble -S -z public
    - - R SSC[1-2] C +BLE:OK
  - - SSC SSC2 bleadv -L -c 0 -t 3
    - - R SSC2 C +BLEADV:SetAdv,OK
  - - SSC SSC2 bleadv -D -z start
    - - R SSC2 C +BLEADV
  - - SSC SSC[1-2] gattc -F -r <dut[2,1]_bt_mac>
    - - R SSC[1-2] C +GATTC:OK
  - - SSC SSC1 bleconn -C -p 0x10 -a <dut2_bt_mac>
    - - R SSC1 C +BLECONN:GapConnect,OK
      - P SSC2 C +BLECONN:GapConnect,OK
  force restore cmd set:
  - ''
  - - SSC SSC[1-2] reboot
    - - R SSC[1-2] C !!!ready!!!
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC[1-2] sta -D
    - []
  - - SSC SSC[1-2] ble -R
    - - 'R SSC[1-2] C +BLE:'
  - - SSC SSC[1-2] bleconn -D -z all
    - - 'R SSC[1-2] C +BLECONN:'
  - - SSC SSC[1-2] blesmp -B -z clear
    - - R SSC[1-2] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-2] gatts -S -z delete
    - - 'R SSC[1-2] C +GATTS:'
  - - SSC SSC[1-2] gattc -U -z all
    - - R SSC[1-2] C +GATTC:OK
  - - SSC SSC[1-2] gatts -S -z load -p 0xA2
    - - R SSC[1-2] C +GATTS:StartService,OK,A002
  - - SSC SSC[1-2] bleadv -D -z stop
    - - R SSC[1-2] C +BLEADV:Stop
  - - SSC SSC[1-2] ble -S -z public
    - - R SSC[1-2] C +BLE:OK
  - - SSC SSC2 bleadv -L -c 0 -t 3
    - - R SSC2 C +BLEADV:SetAdv,OK
  - - SSC SSC2 bleadv -D -z start
    - - R SSC2 C +BLEADV:Start,OK
  - - SSC SSC[1-2] gattc -F -r <dut[2,1]_bt_mac>
    - - R SSC[1-2] C +GATTC:OK
  - - SSC SSC1 bleconn -C -p 0x10 -a <dut2_bt_mac>
    - - R SSC1 C +BLECONN:GapConnect,OK
      - P SSC2 C +BLECONN:GapConnect,OK
  restore post cmd set:
  - ''
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: BLE_CONN5
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) enable BLE on 5 DUTs, DUT1 connected with DUT2-5 as master, DUT2-5 use GATT service 0xA002
  check cmd set:
  - ''
  - - ASSERT
    - - ''
  force restore cmd set:
  - ''
  - - SSC SSC[1-5] reboot
    - - R SSC[1-5] C !!!ready!!!
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC[1-5] sta -D
    - []
  - - SSC SSC[1-5] ble -R
    - - 'R SSC[1-5] C +BLE:'
  - - SSC SSC[1-5] bleconn -D -z all
    - - 'R SSC[1-5] C +BLECONN:'
  - - SSC SSC[1-5] blesmp -B -z clear
    - - R SSC[1-5] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-5] gatts -S -z delete
    - - 'R SSC[1-5] C +GATTS:'
  - - SSC SSC[1-5] gattc -U -z all
    - - R SSC[1-5] C +GATTC:OK
  - - SSC SSC[2-5] gatts -S -z load -p 0xA2
    - - P SSC[2-5] C +GATTS:StartService,OK,A002
  - - SSC SSC[1-5] bleadv -D -z stop
    - - R SSC[1-5] C +BLEADV:Stop
  - - SSC SSC[1-5] ble -S -z public
    - - R SSC[1-5] C +BLE:OK
  - - SSC SSC[2-5] bleadv -D -z start
    - - P SSC[2-5] C +BLEADV:Start,OK
  - - SSC SSC1 gattc -F -r <dut2_bt_mac>
    - - R SSC1 C +GATTC:OK
  - - LOOP 4 1 "[2,3,4,5]" "[2,3,4,5]" "[2,3,4,5]"
    - ''
  - - SSC SSC1 bleconn -C -p 0x10 -a <dut{%d}_bt_mac>
    - - R SSC1 RE "\+BLECONN:GapConnect,OK,0010,%%s"%%(<dut{%d}_bt_mac>)
      - P SSC{%d} C +BLECONN:GapConnect,OK
  restore cmd set:
  - ''
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC[1-5] sta -D
    - []
  - - SSC SSC[1-5] bt -D -z init
    - - 'R SSC[1-5] C +BT:'
  - - SSC SSC[1-5] bt -D -z enable
    - - 'R SSC[1-5] C +BT:'
  - - SSC SSC[1-5] ble -R
    - - 'R SSC[1-5] C +BLE:'
  - - SSC SSC[1-5] bleconn -D -z all
    - - 'R SSC[1-5] C +BLECONN:'
  - - SSC SSC[1-5] blesmp -B -z clear
    - - R SSC[1-5] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-5] gatts -S -z delete
    - - 'R SSC[1-5] C +GATTS:'
  - - SSC SSC[1-5] gattc -U -z all
    - - R SSC[1-5] C +GATTC:OK
  - - SSC SSC[2-5] gatts -S -z load -p 0xA2
    - - P SSC[2-5] C +GATTS:StartService,OK,A002
  - - SSC SSC[1-5] bleadv -D -z stop
    - - R SSC[1-5] C +BLEADV:Stop
  - - SSC SSC[1-5] ble -S -z public
    - - R SSC[1-5] C +BLE:OK
  - - SSC SSC[2-5] bleadv -D -z start
    - - P SSC[2-5] C +BLEADV:Start,OK
  - - SSC SSC1 gattc -F -r <dut2_bt_mac>
    - - R SSC1 C +GATTC:OK
  - - LOOP 4 1 "[2,3,4,5]" "[2,3,4,5]" "[2,3,4,5]"
    - ''
  - - SSC SSC1 bleconn -C -p 0x10 -a <dut{%d}_bt_mac>
    - - R SSC1 RE "\+BLECONN:GapConnect,OK,0010,%%s"%%(<dut{%d}_bt_mac>)
      - P SSC{%d} C +BLECONN:GapConnect,OK,
  restore post cmd set:
  - ''
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: BLE_CONN6
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) enable BLE on 5 DUTs, DUT1 is slave, connected by DUT2-5, DUT1 use GATT service 0xA002
  check cmd set:
  - ''
  - - ASSERT
    - - ''
  restore cmd set:
  - ''
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC[1-5] sta -D
    - []
  - - SSC SSC[1-5] bt -D -z init
    - - 'R SSC[1-5] C +BT:'
  - - SSC SSC[1-5] bt -D -z enable
    - - 'R SSC[1-5] C +BT:'
  - - SSC SSC[1-5] ble -R
    - - 'R SSC[1-5] C +BLE:'
  - - SSC SSC[1-5] bleconn -D -z all
    - - 'R SSC[1-5] C +BLECONN:'
  - - SSC SSC[1-5] blesmp -B -z clear
    - - R SSC[1-5] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-5] gatts -S -z delete
    - - 'R SSC[1-5] C +GATTS:'
  - - SSC SSC[1-5] gattc -U -z all
    - - R SSC[1-5] C +GATTC:OK
  - - SSC SSC[1-5] ble -S -z public
    - - R SSC[1-5] C +BLE:OK
  - - SSC SSC1 gatts -S -z load -p 0xA2
    - - R SSC1 C +GATTS:StartService,OK,A002
  - - SSC SSC[1-5] bleadv -D -z stop
    - - R SSC[1-5] C +BLEADV:Stop
  - - LOOP 4 3 "[2,3,4,5]" "[2,3,4,5]"
    - ''
  - - SSC SSC1 bleadv -D -z start
    - - P SSC1 C +BLEADV:Start,OK
  - - SSC SSC[2-5] gattc -F -r <dut1_bt_mac>
    - - R SSC[2-5] C +GATTC:OK
  - - SSC SSC{%d} bleconn -C -p 0x10 -a <dut1_bt_mac>
    - - R SSC{%d} RE "\+BLECONN:GapConnect,OK,0010,%%s"%%(<dut1_bt_mac>)
      - P SSC1 C +BLECONN:GapConnect,OK
  force restore cmd set:
  - ''
  - - SSC SSC[1-5] reboot
    - - R SSC[1-5] C !!!ready!!!
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC[1-5] sta -D
    - []
  - - SSC SSC[1-5] ble -R
    - - 'R SSC[1-5] C +BLE:'
  - - SSC SSC[1-5] bleconn -D -z all
    - - 'R SSC[1-5] C +BLECONN:'
  - - SSC SSC[1-5] blesmp -B -z clear
    - - R SSC[1-5] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-5] gatts -S -z delete
    - - 'R SSC[1-5] C +GATTS:'
  - - SSC SSC[1-5] gattc -U -z all
    - - R SSC[1-5] C +GATTC:OK
  - - SSC SSC[1-5] bleadv -D -z stop
    - - R SSC[1-5] C +BLEADV:Stop
  - - SSC SSC[1-5] ble -S -z public
    - - R SSC[1-5] C +BLE:OK
  - - SSC SSC1 gatts -S -z load -p 0xA2
    - - R SSC1 C +GATTS:StartService,OK,A002
  - - SSC SSC[2-5] gattc -F -r <dut1_bt_mac>
    - - R SSC[2-5] C +GATTC:OK
  - - LOOP 4 3 "[2,3,4,5]" "[2,3,4,5]"
    - ''
  - - SSC SSC1 bleadv -D -z start
    - - P SSC1 C +BLEADV:Start,OK
  - - SSC SSC[2-5] gattc -F -r <dut1_bt_mac>
    - - R SSC[2-5] C +GATTC:OK
  - - SSC SSC{%d} bleconn -C -p 0x10 -a <dut1_bt_mac>
    - - R SSC{%d} RE "\+BLECONN:GapConnect,OK,0010,%%s"%%(<dut1_bt_mac>)
      - P SSC1 C +BLECONN:GapConnect,OK
  restore post cmd set:
  - ''
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: BLE_CONN7
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) BLE is enable on 5 DUTs, DUT1 connected with DUT2-3 as master, connected with DUT4-5 as slave, use service 0xA002 on GATTS
  check cmd set:
  - ''
  - - ASSERT
    - - ''
  restore cmd set:
  - ''
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC[1-5] sta -D
    - []
  - - SSC SSC[1-5] bt -D -z init
    - - 'R SSC[1-5] C +BT:'
  - - SSC SSC[1-5] bt -D -z enable
    - - 'R SSC[1-5] C +BT:'
  - - SSC SSC[1-5] ble -R
    - - 'R SSC[1-5] C +BLE:'
  - - SSC SSC[1-5] bleconn -D -z all
    - - 'R SSC[1-5] C +BLECONN:'
  - - SSC SSC[1-5] blesmp -B -z clear
    - - R SSC[1-5] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-5] gatts -S -z delete
    - - 'R SSC[1-5] C +GATTS:'
  - - SSC SSC[1-5] gattc -U -z all
    - - R SSC[1-5] C +GATTC:OK
  - - SSC SSC[1-5] bleadv -D -z stop
    - - R SSC[1-5] C +BLEADV:Stop
  - - SSC SSC[1-5] ble -S -z public
    - - R SSC[1-5] C +BLE:OK
  - - SSC SSC[1-3] gatts -S -z load -p 0xA2
    - - R SSC[1-3] C +GATTS:StartService,OK,A002
  - - LOOP 2 2 "[4,5]" "[4,5]"
    - ''
  - - SSC SSC1 bleadv -D -z start
    - - P SSC1 C +BLEADV:Start,OK
  - - SSC SSC{%d} bleconn -C -p 0x10 -a <dut1_bt_mac>
    - - R SSC{%d} RE "\+BLECONN:GapConnect,OK,0010,%%s"%%(<dut1_bt_mac>)
      - P SSC1 C +BLECONN:GapConnect,OK
  - - SSC SSC[2-3] bleadv -D -z start
    - - P SSC[2-3] C +BLEADV:Start,OK
  - - LOOP 2 1 "[2,3]" "[2,3]" "[2,3]"
    - ''
  - - SSC SSC1 bleconn -C -p 0x10 -a <dut{%d}_bt_mac>
    - - R SSC1 RE "\+BLECONN:GapConnect,OK,0010,%%s"%%(<dut{%d}_bt_mac>)
      - P SSC{%d} C +BLECONN:GapConnect,OK,
  force restore cmd set:
  - ''
  - - SSC SSC[1-5] reboot
    - - R SSC[1-5] C !!!ready!!!
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC[1-5] sta -D
    - []
  - - SSC SSC[1-5] ble -R
    - - 'R SSC[1-5] C +BLE:'
  - - SSC SSC[1-5] bleconn -D -z all
    - - 'R SSC[1-5] C +BLECONN:'
  - - SSC SSC[1-5] blesmp -B -z clear
    - - R SSC[1-5] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-5] gatts -S -z delete
    - - 'R SSC[1-5] C +GATTS:'
  - - SSC SSC[1-5] gattc -U -z all
    - - R SSC[1-5] C +GATTC:OK
  - - SSC SSC[1-5] bleadv -D -z stop
    - - R SSC[1-5] C +BLEADV:Stop
  - - SSC SSC[1-5] ble -S -z public
    - - R SSC[1-5] C +BLE:OK
  - - SSC SSC[1-3] gatts -S -z load -p 0xA2
    - - R SSC[1-3] C +GATTS:StartService,OK,A002
  - - LOOP 2 2 "[4,5]" "[4,5]"
    - ''
  - - SSC SSC1 bleadv -D -z start
    - - P SSC1 C +BLEADV:Start,OK
  - - SSC SSC{%d} bleconn -C -p 0x10 -a <dut1_bt_mac>
    - - R SSC{%d} RE "\+BLECONN:GapConnect,OK,0010,%%s"%%(<dut1_bt_mac>)
      - P SSC1 C +BLECONN:GapConnect,OK,
  - - SSC SSC[2-3] bleadv -D -z start
    - - P SSC[2-3] C +BLEADV:Start,OK
  - - LOOP 2 1 "[2,3]" "[2,3]" "[2,3]"
    - ''
  - - SSC SSC1 bleconn -C -p 0x10 -a <dut{%d}_bt_mac>
    - - R SSC1 RE "\+BLECONN:GapConnect,OK,0010,%%s"%%(<dut{%d}_bt_mac>)
      - P SSC{%d} C +BLECONN:GapConnect,OK
  restore post cmd set:
  - ''
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: BLE_CONN_SMP
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) enable BLE on 2 DUTs, DUT1 connected and paired with DUT2, DUT2 created GATT service 0xA000
  check cmd set:
  - ''
  - - ASSERT
    - - ''
  restore cmd set:
  - ''
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC[1-2] sta -D
    - []
  - - SSC SSC[1-2] bt -D -z init
    - - 'R SSC[1-2] C +BT:'
  - - SSC SSC[1-2] bt -D -z enable
    - - 'R SSC[1-2] C +BT:'
  - - SSC SSC[1-2] ble -R
    - - 'R SSC[1-2] C +BLE:'
  - - SSC SSC[1-2] bleconn -D -z all
    - - 'R SSC[1-2] C +BLECONN:'
  - - SSC SSC[1-2] blesmp -B -z clear
    - - R SSC[1-2] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-2] gatts -S -z delete
    - - 'R SSC[1-2] C +GATTS:'
  - - SSC SSC[1-2] gattc -U -z all
    - - R SSC[1-2] C +GATTC:OK
  - - SSC SSC[1-2] bleadv -D -z stop
    - - R SSC[1-2] C +BLEADV:Stop
  - - SSC SSC2 gatts -S -z load -p 0xA2
    - - R SSC2 C +GATTS:StartService,OK,A002
  - - SSC SSC[1-2] ble -S -z public
    - - R SSC[1-2] C +BLE:OK
  - - SSC SSC2 bleadv -L -c 0 -t 3
    - - R SSC2 C +BLEADV:SetAdv,OK
  - - SSC SSC2 bleadv -D -z start
    - - R SSC2 C +BLEADV:Start,OK
  - - SSC SSC2 blesmp -S -z AuthReqMode -v 0x01
    - - P SSC2 C +BLESMP:OK
  - - SSC SSC2 blesmp -S -z IOCAP -v 0x03
    - - P SSC2 C +BLESMP:OK
  - - SSC SSC2 blesmp -S -z RspKey -v 0x03
    - - P SSC2 C +BLESMP:OK
  - - SSC SSC1 bleconn -C -p 0x10 -a <dut2_bt_mac>
    - - P SSC1 C +BLECONN:GapConnect,OK
      - P SSC2 C +BLECONN:GapConnect,OK
  - - SSC SSC2 blesmp -E -r <dut1_bt_mac> -z Enc
    - - P SSC[1-2] C +BLESMP:AuthComplete,Success,0
  - - SSC SSC1 gattc -F -r <dut2_bt_mac>
    - - R SSC1 C +GATTC:OK
  force restore cmd set:
  - ''
  - - SSC SSC[1-2] reboot
    - - R SSC[1-2] C !!!ready!!!
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC[1-2] sta -D
    - []
  - - SSC SSC[1-2] ble -R
    - - 'R SSC[1-2] C +BLE:'
  - - SSC SSC[1-2] bleconn -D -z all
    - - 'R SSC[1-2] C +BLECONN:'
  - - SSC SSC[1-2] blesmp -B -z clear
    - - R SSC[1-2] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-2] gatts -S -z delete
    - - 'R SSC[1-2] C +GATTS:'
  - - SSC SSC[1-2] gattc -U -z all
    - - R SSC[1-2] C +GATTC:OK
  - - SSC SSC[1-2] bleadv -D -z stop
    - - R SSC[1-2] C +BLEADV:Stop
  - - SSC SSC2 gatts -S -z load -p 0xA2
    - - R SSC2 C +GATTS:StartService,OK,A002
  - - SSC SSC[1-2] ble -S -z public
    - - R SSC[1-2] C +BLE:OK
  - - SSC SSC2 bleadv -L -c 0 -t 3
    - - R SSC2 C +BLEADV:SetAdv,OK
  - - SSC SSC2 bleadv -D -z start
    - - R SSC2 C +BLEADV:Start,OK
  - - SSC SSC2 blesmp -S -z AuthReqMode -v 0x01
    - - P SSC2 C +BLESMP:OK
  - - SSC SSC2 blesmp -S -z IOCAP -v 0x03
    - - P SSC2 C +BLESMP:OK
  - - SSC SSC2 blesmp -S -z RspKey -v 0x03
    - - P SSC2 C +BLESMP:OK
  - - SSC SSC1 bleconn -C -p 0x10 -a <dut2_bt_mac>
    - - P SSC1 C +BLECONN:GapConnect,OK
      - P SSC2 C +BLECONN:GapConnect,OK
  - - SSC SSC2 blesmp -E -r <dut1_bt_mac> -z Enc
    - - P SSC[1-2] C +BLESMP:AuthComplete,Success,0
  - - SSC SSC1 gattc -F -r <dut2_bt_mac>
    - - R SSC1 C +GATTC:OK
  restore post cmd set:
  - ''
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: BLE_DEINIT1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT deinit BT host
  check cmd set:
  - ''
  - - SSC SSC1 bt -Q
    - - R SSC1 C +BT:status,DEINIT
  restore cmd set:
  - ''
  - - SSC SSC1 bt -D -z disable
    - - 'R SSC1 C +BT:'
  - - SSC SSC1 bt -D -z deinit
    - - 'R SSC1 C +BT:'
  - - SSC SSC1 bt -Q
    - - R SSC1 C +BT:status,DEINIT
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 bt -D -z stop
    - - R SSC1 C +BT:OK
  restore post cmd set:
  - ''
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: BTC_DEINIT1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT deinit BT controller
  check cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - "SSC SSC1 btc -D -z disable"
    - ["R SSC1 C +BTC:OK"]
  - - "SSC SSC1 btc -D -z deinit"
    - ["R SSC1 C +BTC:OK"]
  - - SSC SSC1 btc -Q
    - - R SSC1 C +BTC:status,IDLE
  - - SSC SSC1 bt -D -z disable
    - - 'R SSC1 C +BT:'
  - - SSC SSC1 bt -D -z deinit
    - - 'R SSC1 C +BT:'
  - - SSC SSC1 bt -Q
    - - R SSC1 C +BT:status,DEINIT
  restore cmd set:
  - ''
  - - "SSC SSC1 btc -D -z disable"
    - ["R SSC1 C +BTC:OK"]
  - - "SSC SSC1 btc -D -z deinit"
    - ["R SSC1 C +BTC:OK"]
  - - SSC SSC1 btc -Q
    - - R SSC1 C +BTC:status,IDLE
  - - SSC SSC1 bt -D -z disable
    - - 'R SSC1 C +BT:'
  - - SSC SSC1 bt -D -z deinit
    - - 'R SSC1 C +BT:'
  - - SSC SSC1 bt -Q
    - - R SSC1 C +BT:status,DEINIT
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 btc -D -z stop
    - - R SSC1 C +BTC:OK
  - - SSC SSC1 bt -D -z stop
    - - R SSC1 C +BT:OK
  restore post cmd set:
  - ''
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: BLE_INIT1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) enable BLE on DUT
  check cmd set:
  - ''
  - - SSC SSC1 bt -Q
    - - R SSC1 C +BT:status,ENABLE
  - - SSC SSC1 ble -R
    - - 'R SSC1 C +BLE:'
  - - SSC SSC1 bleconn -Q
    - - R SSC1 C +BLECONN:ConnCount,0
  restore cmd set:
  - ''
  - - SSC SSC1 bt -D -z init
    - - 'R SSC1 C +BT:'
  - - SSC SSC1 bt -D -z enable
    - - 'R SSC1 C +BT:'
  - - SSC SSC1 ble -R
    - - 'R SSC1 C +BLE:'
  - - SSC SSC1 bleconn -D -z all
    - - 'R SSC1 C +BLECONN:'
  - - SSC SSC[1-2] blesmp -B -z clear
    - - R SSC[1-2] C +BLESMP:ClearBond,Success
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 bt -D -z init
    - - 'R SSC1 C +BT:'
  - - SSC SSC1 bt -D -z enable
    - - 'R SSC1 C +BT:'
  - - SSC SSC1 ble -R
    - - 'R SSC1 C +BLE:'
  restore post cmd set:
  - ''
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC1 sta -D
    - []
  - - SSC SSC1 bleconn -D -z all
    - - 'R SSC1 C +BLECONN:'
  - - SSC SSC[1-2] blesmp -B -z clear
    - - R SSC[1-2] C +BLESMP:ClearBond,Success
  - - SSC SSC1 gatts -S -z delete
    - - 'R SSC1 C +GATTS:'
  - - SSC SSC1 gattc -U -z all
    - - R SSC1 C +GATTC:OK
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: BLE_INIT2
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) enable BLE on 2 DUTs, no active connection, DUT2 load service 0xA0 and start adv
  check cmd set:
  - ''
  - - SSC SSC[1-2] bt -Q
    - - R SSC[1-2] C +BT:status,ENABLE
  restore cmd set:
  - ''
  - - SSC SSC[1-2] bt -D -z init
    - - 'R SSC[1-2] C +BT:'
  - - SSC SSC[1-2] bt -D -z enable
    - - 'R SSC[1-2] C +BT:'
  force restore cmd set:
  - ''
  - - SSC SSC[1-2] reboot
    - - R SSC[1-2] C !!!ready!!!
  - - SSC SSC[1-2] bt -D -z init
    - - 'R SSC[1-2] C +BT:'
  - - SSC SSC[1-2] bt -D -z enable
    - - 'R SSC[1-2] C +BT:'
  restore post cmd set:
  - ''
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC[1-2] sta -D
    - []
  - - SSC SSC[1-2] ble -R
    - - 'R SSC[1-2] C +BLE:'
  - - SSC SSC[1-2] bleconn -D -z all
    - - 'R SSC[1-2] C +BLECONN:'
  - - SSC SSC[1-2] blesmp -B -z clear
    - - R SSC[1-2] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-2] gatts -S -z delete
    - - 'R SSC[1-2] C +GATTS:'
  - - SSC SSC[1-2] gattc -U -z all
    - - R SSC[1-2] C +GATTC:OK
  - - SSC SSC[1-2] bleadv -D -z stop
    - - R SSC[1-2] C +BLEADV:Stop
  - - SSC SSC2 gatts -S -z load -p 0xA0
    - - R SSC2 C +GATTS:StartService,OK,A000
  - - SSC SSC[1-2] ble -S -z public
    - - R SSC[1-2] C +BLE:OK
  - - SSC SSC2 bleadv -L -c 0 -t 3
    - - R SSC2 C +BLEADV:SetAdv,OK
  - - SSC SSC2 bleadv -D -z start
    - - R SSC2 C +BLEADV:Start,OK
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: BLE_INIT3
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) enable BLE on 2 DUTs, no active connection, DUT2 load service 0xA002 and start adv
  check cmd set:
  - ''
  - - SSC SSC[1-2] bt -Q
    - - R SSC[1-2] C +BT:status,ENABLE
  restore cmd set:
  - ''
  - - SSC SSC[1-2] bt -D -z init
    - - 'R SSC[1-2] C +BT:'
  - - SSC SSC[1-2] bt -D -z enable
    - - 'R SSC[1-2] C +BT:'
  force restore cmd set:
  - ''
  - - SSC SSC[1-2] reboot
    - - R SSC[1-2] C !!!ready!!!
  - - SSC SSC[1-2] bt -D -z init
    - - 'R SSC[1-2] C +BT:'
  - - SSC SSC[1-2] bt -D -z enable
    - - 'R SSC[1-2] C +BT:'
  restore post cmd set:
  - ''
  - - SSC SSC[1-2] ble -R
    - - 'R SSC[1-2] C +BLE:'
  - - SSC SSC[1-2] bleconn -D -z all
    - - 'R SSC[1-2] C +BLECONN:'
  - - SSC SSC[1-2] blesmp -B -z clear
    - - R SSC[1-2] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-2] gatts -S -z delete
    - - 'R SSC[1-2] C +GATTS:'
  - - SSC SSC[1-2] gattc -U -z all
    - - R SSC[1-2] C +GATTC:OK
  - - SSC SSC2 gatts -S -z load -p 0xA2
    - - R SSC2 C +GATTS:StartService,OK,A002
  - - SSC SSC[1-2] bleadv -D -z stop
    - - R SSC[1-2] C +BLEADV:Stop
  - - SSC SSC[1-2] ble -S -z public
    - - R SSC[1-2] C +BLE:OK
  - - SSC SSC2 bleadv -L -c 0 -t 3
    - - R SSC2 C +BLEADV:SetAdv,OK
  - - SSC SSC2 bleadv -D -z start
    - - R SSC2 C +BLEADV:Start,OK
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: BLE_INIT5
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) enable BLE on 5 DUTs, no active connection
  check cmd set:
  - ''
  - - SSC SSC[1-5] bt -Q
    - - R SSC[1-5] C +BT:status,ENABLE
  restore cmd set:
  - ''
  - - SSC SSC[1-5] bt -D -z init
    - - 'R SSC[1-5] C +BT:'
  - - SSC SSC[1-5] bt -D -z enable
    - - 'R SSC[1-5] C +BT:'
  force restore cmd set:
  - ''
  - - SSC SSC[1-5] reboot
    - - R SSC[1-5] C !!!ready!!!
  - - SSC SSC[1-5] bt -D -z init
    - - 'R SSC[1-5] C +BT:'
  - - SSC SSC[1-5] bt -D -z enable
    - - 'R SSC[1-5] C +BT:'
  restore post cmd set:
  - ''
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC[1-5] sta -D
    - []
  - - SSC SSC[1-5] ble -R
    - - 'R SSC[1-5] C +BLE:'
  - - SSC SSC[1-5] bleconn -D -z all
    - - 'R SSC[1-5] C +BLECONN:'
  - - SSC SSC[1-5] blesmp -B -z clear
    - - R SSC[1-5] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-5] gatts -S -z delete
    - - 'R SSC[1-5] C +GATTS:'
  - - SSC SSC[1-2] gattc -U -z all
    - - R SSC[1-2] C +GATTC:OK
  - - "SSC SSC[2-5] gatts -S -z load -p 0xA2"
    - ["P SSC[2-5] C +GATTS:StartService,OK,A002"]
  - - SSC SSC[1-5] bleadv -D -z stop
    - - R SSC[1-5] C +BLEADV:Stop
  - - SSC SSC[1-5] ble -S -z public
    - - R SSC[1-5] C +BLE:OK
  - - SSC SSC1 gattc -F -r <dut2_bt_mac>
    - - R SSC1 C +GATTC:OK
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: BLE_INIT_SMP
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) enable BLE on 2 DUTs, no active connection, create GATT service 0xA002 on DUT2, DUT2 start adv, DUT1 load default initiator param, DUT2 load default responder param
  check cmd set:
  - ''
  - - ASSERT
    - - ''
  restore cmd set:
  - ''
  - - ASSERT
    - - ''
  force restore cmd set:
  - ''
  - - SSC SSC[1-2] reboot
    - - R SSC[1-2] C !!!ready!!!
  - - SSC SSC[1-2] ble -R
    - - 'R SSC[1-2] C +BLE:'
  - - SSC SSC[1-2] bleconn -D -z all
    - - 'R SSC[1-2] C +BLECONN:'
  - - SSC SSC[1-2] blesmp -B -z clear
    - - R SSC[1-2] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-2] gatts -S -z delete
    - - 'R SSC[1-2] C +GATTS:'
  - - SSC SSC[1-2] gattc -U -z all
    - - R SSC[1-2] C +GATTC:OK
  - - SSC SSC[1-2] bleadv -D -z stop
    - - R SSC[1-2] C +BLEADV:Stop
  - - SSC SSC[1-2] ble -S -z public
    - - R SSC[1-2] C +BLE:OK
  - - SSC SSC2 gatts -S -z load -p 0xA2
    - - R SSC2 C +GATTS:StartService,OK,A002
  - - SSC SSC2 bleadv -L -c 0 -t 3
    - - R SSC2 C +BLEADV:SetAdv,OK
  - - SSC SSC2 bleadv -D -z start
    - - R SSC2 C +BLEADV:Start,OK
  - - SSC SSC[1-2] blesmp -L -c [1,0]
    - - R SSC[1-2] C +BLESMP:OK
  - - SSC SSC1 gattc -F -r <dut2_bt_mac>
    - - R SSC1 C +GATTC:OK
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
  restore post cmd set:
  - ''
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC[1-2] sta -D
    - []
  - - SSC SSC[1-2] ble -R
    - - 'R SSC[1-2] C +BLE:'
  - - SSC SSC[1-2] bleconn -D -z all
    - - 'R SSC[1-2] C +BLECONN:'
  - - SSC SSC[1-2] blesmp -B -z clear
    - - R SSC[1-2] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-2] gatts -S -z delete
    - - 'R SSC[1-2] C +GATTS:'
  - - SSC SSC[1-2] gattc -U -z all
    - - R SSC[1-2] C +GATTC:OK
  - - SSC SSC[1-2] bleadv -D -z stop
    - - R SSC[1-2] C +BLEADV:Stop
  - - SSC SSC[1-2] ble -S -z public
    - - R SSC[1-2] C +BLE:OK
  - - SSC SSC2 gatts -S -z load -p 0xA2
    - - R SSC2 C +GATTS:StartService,OK,A002
  - - SSC SSC2 bleadv -L -c 0 -t 3
    - - R SSC2 C +BLEADV:SetAdv,OK
  - - SSC SSC2 bleadv -D -z start
    - - R SSC2 C +BLEADV:Start,OK
  - - SSC SSC[1-2] blesmp -L -c [1,0]
    - - R SSC[1-2] C +BLESMP:OK
  - - SSC SSC1 gattc -F -r <dut2_bt_mac>
    - - R SSC1 C +GATTC:OK
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: BLE_INIT_SMP5
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) enable BLE on 5 DUTs, no active connection, create GATT service 0xA000 on DUT2-5, DUT2-5 start adv, DUT1 load default initiator param, DUT2-5 load default responder param
  check cmd set:
  - ''
  - - ASSERT
    - - ''
  restore cmd set:
  - ''
  - - ASSERT
    - - ''
  force restore cmd set:
  - ''
  - - SSC SSC[1-5] reboot
    - - R SSC[1-5] C !!!ready!!!
  - - SSC SSC[1-5] ble -R
    - - 'R SSC[1-5] C +BLE:'
  - - SSC SSC[1-5] bleconn -D -z all
    - - 'R SSC[1-5] C +BLECONN:'
  - - SSC SSC[1-5] blesmp -B -z clear
    - - R SSC[1-5] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-5] gatts -S -z delete
    - - 'R SSC[1-5] C +GATTS:'
  - - SSC SSC[1-5] gattc -U -z all
    - - R SSC[1-5] C +GATTC:OK
  - - SSC SSC[1-5] bleadv -D -z stop
    - - R SSC[1-5] C +BLEADV:Stop
  - - SSC SSC[1-5] ble -S -z public
    - - R SSC[1-5] C +BLE:OK
  - - SSC SSC[2-5] gatts -S -z load -p 0xA2
    - - R SSC[2-5] C +GATTS:StartService,OK,A002
  - - SSC SSC[2-5] bleadv -L -c 0 -t 3
    - - R SSC[2-5] C +BLEADV:SetAdv,OK
  - - SSC SSC[2-5] bleadv -D -z start
    - - R SSC[2-5] C +BLEADV:Start,OK
  - - SSC SSC[1-5] blesmp -L -c [1,0]
    - - R SSC[1-5] C +BLESMP:OK
  - - SSC SSC1 gattc -F -r <dut2_bt_mac>
    - - R SSC1 C +GATTC:OK
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
  restore post cmd set:
  - ''
  - - SSC SSC[1-5] ble -R
    - - 'R SSC[1-5] C +BLE:'
  - - SSC SSC[1-5] bleconn -D -z all
    - - 'R SSC[1-5] C +BLECONN:'
  - - SSC SSC[1-5] blesmp -B -z clear
    - - R SSC[1-5] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-5] gatts -S -z delete
    - - 'R SSC[1-5] C +GATTS:'
  - - SSC SSC[1-5] gattc -U -z all
    - - R SSC[1-5] C +GATTC:OK
  - - SSC SSC[1-5] bleadv -D -z stop
    - - R SSC[1-5] C +BLEADV:Stop
  - - SSC SSC[1-5] ble -S -z public
    - - R SSC[1-5] C +BLE:OK
  - - SSC SSC[2-5] gatts -S -z load -p 0xA2
    - - R SSC[2-5] C +GATTS:StartService,OK,A002
  - - SSC SSC[2-5] bleadv -L -c 0 -t 3
    - - R SSC[2-5] C +BLEADV:SetAdv,OK
  - - SSC SSC[2-5] bleadv -D -z start
    - - R SSC[2-5] C +BLEADV:Start,OK
  - - SSC SSC1 blesmp -L -c 1
    - - R SSC1 C +BLESMP:OK
  - - SSC SSC[2-5] blesmp -L -c 0
    - - R SSC[2-5] C +BLESMP:OK
  # do wifi disconnect, to prevent wifi reconnect cause bad BLE performance
  - - SSC SSC[1-5] sta -D
    - []
  - - SSC SSC1 gattc -F -r <dut2_bt_mac>
    - - R SSC1 C +GATTC:OK
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: NOW_STAM1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT in sta mode and espnow is de-initialized
  check cmd set:
  - ''
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:1
  - - SSC SSC1 sta -D
    - - 'R SSC1 C +QAP:'
  - - SSC SSC1 dhcp -Q -o 1
    - - R SSC1 C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 1
    - - R SSC1 P <target_mac>
  - - SSC SSC1 espnow -D
    - - 'R SSC1 C +ESPNOW:'
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 1
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 sta -D
    - - 'R SSC1 C +QAP:'
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC1 espnow -D
    - - 'R SSC1 C +ESPNOW:'
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 1
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 sta -D
    - - 'R SSC1 C +QAP:'
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC1 espnow -D
    - - 'R SSC1 C +ESPNOW:'
- tag: NOW_STAM2
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT in sta mode, join AP and espnow is de-initialized
  check cmd set:
  - ''
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:1
  - - SSC SSC1 sta -Q
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
  - - SSC SSC1 dhcp -Q -o 1
    - - R SSC1 C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 1
    - - R SSC1 P <target_mac>
  - - SSC SSC1 espnow -D
    - - 'R SSC1 C +ESPNOW:'
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 1
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC1 sta -C -s <ap_ssid> -p <ap_password>
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
  - - SSC SSC1 espnow -D
    - - 'R SSC1 C +ESPNOW:'
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 1
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC1 sta -C -s <ap_ssid> -p <ap_password>
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
  - - SSC SSC1 espnow -D
    - - 'R SSC1 C +ESPNOW:'
- tag: NOW_APM1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT1 in AP mode and espnow is de-initialized
  check cmd set:
  - ''
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:2
  - - SSC SSC1 ap -Q
    - - R SSC1 RE "\+APCONFIG:%%s,%%s,8,\d+,\d+,4,"%%(<target_ssid>,<target_password>)
  - - SSC SSC1 dhcp -Q -o 2
    - - R SSC1 C +DHCP:AP,STARTED
  - - SSC SSC1 mac -Q -o 2
    - - R SSC1 P <target_ap_mac>
  - - SSC SSC1 espnow -D
    - - 'R SSC1 C +ESPNOW:'
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 8
    - - R SSC1 C +SAP:OK
  - - SSC SSC1 espnow -D
    - - 'R SSC1 C +ESPNOW:'
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 8
    - - R SSC1 C +SAP:OK
  - - SSC SSC1 espnow -D
    - - 'R SSC1 C +ESPNOW:'
- tag: NOW_T2_STAM1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) two DUTs in sta mode, set same channel and espnow is de-initialized
  check cmd set:
  - ''
  - - SSC SSC[1,2] op -Q
    - - R SSC[1,2] C +CURMODE:1
  - - SSC SSC[1,2] sta -D
    - - 'R SSC[1,2] C +QAP:'
  - - SSC SSC[1,2] channel -G
    - - R SSC[1,2] C +CHANNEL:5
  - - SSC SSC[1,2] dhcp -Q -o 1
    - - R SSC[1,2] C +DHCP:STA,STARTED
  - - SSC SSC[1,2] mac -Q -o 1
    - - R SSC[1,2] P <target[1,2]_mac>
  - *dut_init_espnow
  restore cmd set:
  - ''
  - - SSC SSC[1,2] op -S -o 1
    - - R SSC[1,2] C +MODE:OK
  - - SSC SSC[1,2] sta -D
    - - 'R SSC[1,2] C +QAP:'
  - - SSC SSC[1,2] channel -S -c 5
    - - R SSC[1,2] C +CHANNEL:OK
  - - SSC SSC[1,2] dhcp -S -o 1
    - - R SSC[1,2] C +DHCP
  - - SSC SSC[1,2] mac -S -o 1 -m <target[1,2]_mac>
    - - R SSC[1,2] C +MAC:STA,OK
  - *dut_init_espnow
  force restore cmd set:
  - ''
  - - SSC SSC[1,2] reboot
    - - R SSC[1,2] C !!!ready!!!
  - - SSC SSC[1,2] op -S -o 1
    - - R SSC[1,2] C +MODE:OK
  - - SSC SSC[1,2] sta -D
    - - 'R SSC[1,2] C +QAP:'
  - - SSC SSC[1,2] channel -S -c 5
    - - R SSC[1,2] C +CHANNEL:OK
  - - SSC SSC[1,2] dhcp -S -o 1
    - - R SSC[1,2] C +DHCP
  - - SSC SSC[1,2] mac -S -o 1 -m <target[1,2]_mac>
    - - R SSC[1,2] C +MAC:STA,OK
  - *dut_init_espnow
- tag: NOW_T2_STAM2
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) one DUT in sta mode, one DUT in softap mode, station joins softap and espnow is de-initialized
  check cmd set:
  - ''
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:1
  - - SSC SSC2 op -Q
    - - R SSC2 C +CURMODE:2
  - - SSC SSC2 ap -Q
    - - R SSC2 RE "\+APCONFIG:%%s,%%s,8,\d+,\d+,4,"%%(<target_ssid>,<target_password>)
  - - SSC SSC1 sta -Q
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC1 dhcp -Q -o 1
    - - R SSC1 C +DHCP:STA,STARTED
  - - SSC SSC2 dhcp -Q -o 2
    - - R SSC2 C +DHCP:AP,STARTED
  - - SSC SSC1 mac -Q -o 1
    - - R SSC1 P <target_mac>
  - - SSC SSC2 mac -Q -o 2
    - - R SSC2 P <target2_ap_mac>
  - *dut_init_espnow
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 1
    - - R SSC1 C +MODE:OK
  - - SSC SSC2 op -S -o 2
    - - R SSC2 C +MODE:OK
  - - SSC SSC[1,2] dhcp -S -o [1,2]
    - - R SSC[1,2] C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC2 mac -S -o 2 -m <target2_ap_mac>
    - - R SSC2 C +MAC:AP,OK
  - - SSC SSC2 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 8
    - - R SSC2 C +SAP:OK
  - - SSC SSC1 sta -C -s <target_ssid> -p <target_password>
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - *dut_init_espnow
  force restore cmd set:
  - ''
  - - SSC SSC[1-2] reboot
    - - R SSC[1-2] C !!!ready!!!
  - - SSC SSC[1-2] op -S -o [1,2]
    - - R SSC[1-2] C +MODE:OK
  - - SSC SSC[1,2] dhcp -S -o [1,2]
    - - R SSC[1,2] C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC2 mac -S -o 2 -m <target2_ap_mac>
    - - R SSC2 C +MAC:AP,OK
  - - SSC SSC2 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 8
    - - R SSC2 C +SAP:OK
  - - SSC SSC1 sta -C -s <target_ssid> -p <target_password>
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - *dut_init_espnow
- tag: NOW_T2_APM1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) 2 DUTs in softap mode, set same channel and espnow is de-initialized
  check cmd set:
  - ''
  - - SSC SSC[1,2] op -Q
    - - R SSC[1,2] C +CURMODE:2
  - - SSC SSC[1,2] ap -Q
    - - R SSC[1,2] RE "\+APCONFIG:%%s,%%s,2,\d+,\d+,4,"%%(<target_ssid>,<target_password>)
  - - SSC SSC[1,2] dhcp -Q -o 2
    - - R SSC[1,2] C +DHCP:AP,STARTED
  - - SSC SSC[1,2] mac -Q -o 2
    - - R SSC[1,2] P <target[1,2]_ap_mac>
  - *dut_init_espnow
  restore cmd set:
  - ''
  - - SSC SSC[1,2] op -S -o 2
    - - R SSC[1,2] C +MODE:OK
  - - SSC SSC[1,2] dhcp -S -o 2
    - - R SSC[1,2] C +DHCP
  - - SSC SSC[1,2] mac -S -o 2 -m <target[1,2]_ap_mac>
    - - R SSC[1,2] C +MAC:AP,OK
  - - SSC SSC[1,2] ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 2
    - - R SSC[1,2] C +SAP:OK
  - *dut_init_espnow
  force restore cmd set:
  - ''
  - - SSC SSC[1,2] reboot
    - - R SSC[1,2] C !!!ready!!!
  - - SSC SSC[1,2] op -S -o 2
    - - R SSC[1,2] C +MODE:OK
  - - SSC SSC[1,2] dhcp -S -o 2
    - - R SSC[1,2] C +DHCP
  - - SSC SSC[1,2] mac -S -o 2 -m <target[1,2]_ap_mac>
    - - R SSC[1,2] C +MAC:AP,OK
  - - SSC SSC[1,2] ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 2
    - - R SSC[1,2] C +SAP:OK
  - *dut_init_espnow
- tag: NOW_T2_STAAP1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) two DUTs in sta + ap mode, set same channel and espnow is de-initialized
  check cmd set:
  - ''
  - - SSC SSC[1,2] op -Q
    - - R SSC[1,2] C +CURMODE:3
  - - SSC SSC[1,2] sta -D
    - - 'R SSC[1,2] C +QAP:'
  - - SSC SSC[1,2] ap -Q
    - - R SSC[1,2] RE "\+APCONFIG:%%s,%%s,8,\d+,\d+,4,"%%(<target_ssid>,<target_password>)
  - - SSC SSC[1,2] dhcp -Q -o 1
    - - R SSC[1,2] C +DHCP:STA,STARTED
  - - SSC SSC[1,2] dhcp -Q -o 2
    - - R SSC[1,2] C +DHCP:AP,STARTED
  - - SSC SSC[1,2] mac -Q -o 1
    - - R SSC[1,2] P <target[1,2]_mac>
  - - SSC SSC[1,2] mac -Q -o 2
    - - R SSC[1,2] P <target[1,2]_ap_mac>
  - *dut_init_espnow
  restore cmd set:
  - ''
  - - SSC SSC[1,2] op -S -o 3
    - - R SSC[1,2] C +MODE:OK
  - - SSC SSC[1,2] sta -D
    - - 'R SSC[1,2] C +QAP:'
  - - SSC SSC[1,2] dhcp -S -o 1
    - - R SSC[1,2] C +DHCP
  - - SSC SSC[1,2] dhcp -S -o 2
    - - R SSC[1,2] C +DHCP
  - - SSC SSC[1,2] mac -S -o 1 -m <target[1,2]_mac>
    - - R SSC[1,2] C +MAC:STA,OK
  - - SSC SSC[1,2] mac -S -o 2 -m <target[1,2]_ap_mac>
    - - R SSC[1,2] C +MAC:AP,OK
  - - SSC SSC[1,2] ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 8
    - - R SSC[1,2] C +SAP:OK
  - *dut_init_espnow
  force restore cmd set:
  - ''
  - - SSC SSC[1,2] reboot
    - - R SSC[1,2] C !!!ready!!!
  - - SSC SSC[1,2] op -S -o 3
    - - R SSC[1,2] C +MODE:OK
  - - SSC SSC[1,2] sta -D
    - - 'R SSC[1,2] C +QAP:'
  - - SSC SSC[1,2] dhcp -S -o 1
    - - R SSC[1,2] C +DHCP
  - - SSC SSC[1,2] dhcp -S -o 2
    - - R SSC[1,2] C +DHCP
  - - SSC SSC[1,2] mac -S -o 1 -m <target[1,2]_mac>
    - - R SSC[1,2] C +MAC:STA,OK
  - - SSC SSC[1,2] mac -S -o 2 -m <target[1,2]_ap_mac>
    - - R SSC[1,2] C +MAC:AP,OK
  - - SSC SSC[1,2] ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 8
    - - R SSC[1,2] C +SAP:OK
  - *dut_init_espnow
- tag: NOW_T2_STAAP2
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) one DUT in softap mode, one DUT in sta + softap mode, station join softap and espnow is de-initialized
  check cmd set:
  - ''
  - - SSC SSC[1,2] op -Q
    - - R SSC[1,2] C +CURMODE:3
  - - SSC SSC2 ap -Q
    - - R SSC2 RE "\+APCONFIG:%%s,%%s,8,\d+,\d+,4,"%%(<target_ssid>,<target_password>)
  - - SSC SSC1 sta -Q
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC1 dhcp -Q -o 1
    - - R SSC1 C +DHCP:STA,STARTED
  - - SSC SSC2 dhcp -Q -o 2
    - - R SSC2 C +DHCP:AP,STARTED
  - - SSC SSC1 mac -Q -o 1
    - - R SSC1 P <target_mac>
  - - SSC SSC2 mac -Q -o 2
    - - R SSC2 P <target2_ap_mac>
  - - SSC SSC2 sta -D
    - - 'R SSC2 C +QAP:'
  - *dut_init_espnow
  restore cmd set:
  - ''
  - - SSC SSC[1,2] op -S -o 3
    - - R SSC[1,2] C +MODE:OK
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC2 dhcp -S -o 2
    - - R SSC2 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC2 mac -S -o 2 -m <target2_ap_mac>
    - - R SSC2 C +MAC:AP,OK
  - - SSC SSC2 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 8
    - - R SSC2 C +SAP:OK
  - - SSC SSC1 sta -C -s <target_ssid> -p <target_password>
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC2 sta -D
    - - 'R SSC2 C +QAP:'
  - *dut_init_espnow
  force restore cmd set:
  - ''
  - - SSC SSC[1,2] reboot
    - - R SSC[1,2] C !!!ready!!!
  - - SSC SSC[1,2] op -S -o 3
    - - R SSC[1,2] C +MODE:OK
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC2 dhcp -S -o 2
    - - R SSC2 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC2 mac -S -o 2 -m <target2_ap_mac>
    - - R SSC2 C +MAC:AP,OK
  - - SSC SSC2 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 8
    - - R SSC2 C +SAP:OK
  - - SSC SSC1 sta -C -s <target_ssid> -p <target_password>
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC2 sta -D
    - - 'R SSC2 C +QAP:'
  - *dut_init_espnow
- tag: None
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) do nothing
  check cmd set:
  - ''
  - - DELAY 0.1
    - - dummy
  restore cmd set:
  - ''
  - - DELAY 0.1
    - - dummy
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  restore post cmd set:
  - ''
  - - DELAY 0.1
    - - dummy
- tag: PAIR1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT1 and simple is de-inited
  check cmd set:
  - ''
  - - SSC SSC1 sp -D
    - - R SSC1 C +SP:OK
  restore cmd set:
  - ''
  - - SSC SSC1 sp -D
    - - R SSC1 C +SP:OK
  force restore cmd set:
  - ''
  - - SSC SSC1 sp -D
    - - R SSC1 C +SP:OK
  restore post cmd set:
  - ''
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: PAIR2
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT1 in SoftAP mode, DUT2 in STA mode, two DUTs deinit simple pair
    and init simple pair
  check cmd set:
  - ''
  - - SSC SSC[1,2] op -Q
    - - R SSC[1,2] C +MODE:[2,1]
  - - SSC SSC[1,2] mac -Q -o 3
    - - R SSC[1,2] P <target[1,2]_ap_mac> P <target[1,2]_mac>
  - - SSC SSC[1,2] sp -D
    - - R SSC[1,2] C +SP:OK
  - - SSC SSC[1,2] sp -I
    - - R SSC[1,2] C +SP:OK
  restore cmd set:
  - ''
  - - SSC SSC[1,2] op -S -o 3
    - - R SSC[1,2] C +MODE:OK
  - - SSC SSC[1,2] mac -S -m <target[1,2]_ap_mac> -o 2
    - - R SSC[1,2] C +MAC:AP,OK
  - - SSC SSC[1,2] mac -S -m <target[1,2]_mac> -o 1
    - - R SSC[1,2] C +MAC:STA,OK
  - - SSC SSC[1,2] op -S -o [2,1]
    - - R SSC[1,2] C +MODE:OK
  - - SSC SSC[1,2] sp -D
    - - R SSC[1,2] C +SP:OK
  - - SSC SSC[1,2] sp -I
    - - R SSC[1,2] C +SP:OK
  force restore cmd set:
  - ''
  - - SSC SSC[1,2] reboot
    - - R SSC[1,2] C !!!ready!!!
  - - SSC SSC[1,2] op -S -o 3
    - - R SSC[1,2] C +MODE:OK
  - - SSC SSC[1,2] mac -S -m <target[1,2]_ap_mac> -o 2
    - - R SSC[1,2] C +MAC:AP,OK
  - - SSC SSC[1,2] mac -S -m <target[1,2]_mac> -o 1
    - - R SSC[1,2] C +MAC:STA,OK
  - - SSC SSC[1,2] op -S -o [2,1]
    - - R SSC[1,2] C +MODE:OK
  - - SSC SSC[1,2] sp -D
    - - R SSC[1,2] C +SP:OK
  - - SSC SSC[1,2] sp -I
    - - R SSC[1,2] C +SP:OK
  restore post cmd set:
  - ''
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: PAIR3
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT1 and DUT2 set to STA+SoftAP mode, two DUTs deinit simple pair
    and init simple pair
  check cmd set:
  - ''
  - - SSC SSC[1,2] op -Q
    - - R SSC[1,2] C +MODE:[3,3]
  - - SSC SSC[1,2] mac -Q -o 3
    - - R SSC[1,2] P <target[1,2]_ap_mac> P <target[1,2]_mac>
  - - SSC SSC[1,2] sp -D
    - - R SSC[1,2] C +SP:OK
  - - SSC SSC[1,2] sp -I
    - - R SSC[1,2] C +SP:OK
  restore cmd set:
  - ''
  - - SSC SSC[1,2] op -S -o [3,3]
    - - R SSC[1,2] C +MODE:OK
  - - SSC SSC[1,2] mac -S -m <target[1,2]_ap_mac> -o 2
    - - R SSC[1,2] C +MAC:AP,OK
  - - SSC SSC[1,2] mac -S -m <target[1,2]_mac> -o 1
    - - R SSC[1,2] C +MAC:STA,OK
  - - SSC SSC[1,2] sp -D
    - - R SSC[1,2] C +SP:OK
  - - SSC SSC[1,2] sp -I
    - - R SSC[1,2] C +SP:OK
  force restore cmd set:
  - ''
  - - SSC SSC[1,2] reboot
    - - R SSC[1,2] C !!!ready!!!
  - - SSC SSC[1,2] op -S -o [3,3]
    - - R SSC[1,2] C +MODE:OK
  - - SSC SSC[1,2] mac -S -m <target[1,2]_ap_mac> -o 2
    - - R SSC[1,2] C +MAC:AP,OK
  - - SSC SSC[1,2] mac -S -m <target[1,2]_mac> -o 1
    - - R SSC[1,2] C +MAC:STA,OK
  - - SSC SSC[1,2] sp -D
    - - R SSC[1,2] C +SP:OK
  - - SSC SSC[1,2] sp -I
    - - R SSC[1,2] C +SP:OK
  restore post cmd set:
  - ''
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: STAAP1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT set to STA+SoftAP mode, disconnected from AP, enable DHCP client
  check cmd set:
  - ''
  - *dut1_start_wifi
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:3
  - - SSC SSC1 sta -D
    - - 'R SSC1 C +QAP:'
  - - SSC SSC1 dhcp -Q -o 1
    - - R SSC1 C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 1
    - - R SSC1 P <target_mac>
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 3
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 sta -D
    - - 'R SSC1 C +QAP:'
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 3
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 sta -D
    - - 'R SSC1 C +QAP:'
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
- tag: STAAP2
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT set to STA+SoftAP mode, connected with AP
  check cmd set:
  - ''
  - *dut1_start_wifi
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:3
  - - SSC SSC1 sta -Q
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
  - - SSC SSC1 dhcp -Q -o 1
    - - R SSC1 C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 1
    - - R SSC1 P <target_mac>
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 3
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC1 sta -C -s <ap_ssid> -p <ap_password>
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 3
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC1 sta -C -s <ap_ssid> -p <ap_password>
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
- tag: STAM1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT set to STA mode, disconnected from AP, enable DHCP client
  check cmd set:
  - ''
  - *dut1_start_wifi
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:1
  - - SSC SSC1 sta -D
    - - 'R SSC1 C +QAP:'
  - - SSC SSC1 dhcp -Q -o 1
    - - R SSC1 C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 1
    - - R SSC1 P <target_mac>
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 1
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 sta -D
    - - 'R SSC1 C +QAP:'
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 1
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 sta -D
    - - 'R SSC1 C +QAP:'
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
- tag: STAM2
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT set to STA mode, connected with AP
  check cmd set:
  - ''
  - *dut1_start_wifi
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:1
  - - SSC SSC1 sta -Q
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
  - - SSC SSC1 dhcp -Q -o 1
    - - R SSC1 C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 1
    - - R SSC1 P <target_mac>
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 1
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC1 sta -C -s <ap_ssid> -p <ap_password>
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 1
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC1 sta -C -s <ap_ssid> -p <ap_password>
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
- tag: STAM2_MDNS
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT set to STA mode, connected with AP, restart MDNS
  check cmd set:
  - ''
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:1
  - - SSC SSC1 sta -Q
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
  - - SSC SSC1 dhcp -Q -o 1
    - - R SSC1 C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 1
    - - R SSC1 P <target_mac>
  - - SSC SSC1 mdns -T
    - - R SSC1 C +MDNS:OK
  - - SSC SSC1 mdns -I
    - - R SSC1 C +MDNS:OK
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 1
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC1 sta -C -s <ap_ssid> -p <ap_password>
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
  - - SSC SSC1 mdns -T
    - - R SSC1 C +MDNS:OK
  - - SSC SSC1 mdns -I
    - - R SSC1 C +MDNS:OK
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 1
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC1 sta -C -s <ap_ssid> -p <ap_password>
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
  - - SSC SSC1 mdns -T
    - - R SSC1 C +MDNS:OK
  - - SSC SSC1 mdns -I
    - - R SSC1 C +MDNS:OK
- tag: STAO1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT set to STA mode, disconnected from AP, enable DHCP client
  check cmd set:
  - ''
  - *dut1_start_wifi
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:1
  - - SSC SSC1 sta -D
    - - 'R SSC1 C +QAP:'
  - - SSC SSC1 dhcp -Q -o 1
    - - R SSC1 C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 1
    - - R SSC1 P <target_mac>
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 1
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 sta -D
    - - 'R SSC1 C +QAP:'
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 1
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 sta -D
    - - 'R SSC1 C +QAP:'
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
- tag: STAO2
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT set to STA mode, connected with AP
  check cmd set:
  - ''
  - *dut1_start_wifi
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:1
  - - SSC SSC1 sta -Q
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
  - - SSC SSC1 dhcp -Q -o 1
    - - R SSC1 C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 1
    - - R SSC1 P <target_mac>
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 1
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC1 sta -C -s <ap_ssid> -p <ap_password>
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 1
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 dhcp -S -o 1
    - - R SSC1 C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC1 sta -C -s <ap_ssid> -p <ap_password>
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
- tag: T1_ETH
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) ethernet is enabled and got IP from AP
  check cmd set:
  - ''
  - - SSC SSC1 eth -N
    - - R SSC1 C +ETHNET:OK
  - - SSC SSC1 eth -E
    - - R SSC1 C +ETHNET:IP
  - - SSC SSC1 ip -I
    - - R SSC1 C +ETHIP:192.168
  restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 eth -N
    - - R SSC1 C +ETHNET:OK
  - - SSC SSC1 eth -E
    - - R SSC1 C +ETHNET:IP
  - - SSC SSC1 ip -I
    - - R SSC1 C +ETHIP:192.168
  force restore cmd set:
  - ''
  - - SSC SSC1 restore
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 eth -N
    - - R SSC1 C +ETHNET:OK
  - - SSC SSC1 eth -E
    - - R SSC1 C +ETHNET:IP
  - - SSC SSC1 ip -I
    - - R SSC1 C +ETHIP:192.168
- tag: T2O_1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT1 set to SoftAP mode, DUT2 set to STA mode, enable DHCP
  check cmd set:
  - ''
  - *dut1_start_wifi
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:2
  - - SSC SSC2 op -Q
    - - R SSC2 C +CURMODE:1
  - - SSC SSC2 sta -D
    - - 'R SSC2 C +QAP:'
  - - SSC SSC2 soc -T
    - - ''
  - - SSC SSC1 dhcp -Q -o 2
    - - R SSC1 C +DHCP:AP,STARTED
  - - SSC SSC2 dhcp -Q -o 1
    - - R SSC2 C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 2
    - - R SSC1 P <target_ap_mac>
  - - SSC SSC2 mac -Q -o 1
    - - R SSC2 P <target2_mac>
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC2 op -S -o 1
    - - R SSC2 C +MODE:OK
  - - SSC SSC2 sta -D
    - - 'R SSC2 C +QAP:'
  - - SSC SSC2 soc -T
    - - ''
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC2 dhcp -S -o 1
    - - R SSC2 C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC2 reboot
    - - R SSC2 C !!!ready!!!
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC2 op -S -o 1
    - - R SSC2 C +MODE:OK
  - - SSC SSC2 sta -D
    - - 'R SSC2 C +QAP:'
  - - SSC SSC2 soc -T
    - - ''
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC2 dhcp -S -o 1
    - - R SSC2 C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
- tag: T2_1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT1 set to SoftAP mode, DUT2 set to STA mode, enable DHCP
  check cmd set:
  - ''
  - *dut1_start_wifi
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:2
  - - SSC SSC2 op -Q
    - - R SSC2 C +CURMODE:1
  - - SSC SSC2 sta -D
    - - 'R SSC2 C +QAP:'
  - - SSC SSC2 soc -T
    - - ''
  - - SSC SSC1 dhcp -Q -o 2
    - - R SSC1 C +DHCP:AP,STARTED
  - - SSC SSC2 dhcp -Q -o 1
    - - R SSC2 C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 2
    - - R SSC1 P <target_ap_mac>
  - - SSC SSC2 mac -Q -o 1
    - - R SSC2 P <target2_mac>
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC2 op -S -o 1
    - - R SSC2 C +MODE:OK
  - - SSC SSC2 sta -D
    - - 'R SSC2 C +QAP:'
  - - SSC SSC2 soc -T
    - - ''
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC2 dhcp -S -o 1
    - - R SSC2 C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC2 reboot
    - - R SSC2 C !!!ready!!!
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC2 op -S -o 1
    - - R SSC2 C +MODE:OK
  - - SSC SSC2 sta -D
    - - 'R SSC2 C +QAP:'
  - - SSC SSC2 soc -T
    - - ''
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC2 dhcp -S -o 1
    - - R SSC2 C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
- tag: T2_2
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT1 and DUT2 set to STA+SoftAP mode, enable DHCP
  check cmd set:
  - ''
  - *dut1_start_wifi
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:3
  - - SSC SSC2 op -Q
    - - R SSC2 C +CURMODE:3
  - - SSC SSC2 sta -D
    - - 'R SSC2 C +QAP:'
  - - SSC SSC2 soc -T
    - - R SSC2 C +CLOSEALL
  - - SSC SSC1 dhcp -Q -o 2
    - - R SSC1 C +DHCP:AP,STARTED
  - - SSC SSC2 dhcp -Q -o 1
    - - R SSC2 C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 2
    - - R SSC1 P <target_ap_mac>
  - - SSC SSC2 mac -Q -o 1
    - - R SSC2 P <target2_mac>
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 3
    - - R SSC1 C +MODE:OK
  - - SSC SSC2 op -S -o 3
    - - R SSC2 C +MODE:OK
  - - SSC SSC2 sta -D
    - - 'R SSC2 C +QAP:'
  - - SSC SSC2 soc -T
    - - R SSC2 C +CLOSEALL
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC2 dhcp -S -o 1
    - - R SSC2 C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC2 reboot
    - - R SSC2 C !!!ready!!!
  - - SSC SSC1 op -S -o 3
    - - R SSC1 C +MODE:OK
  - - SSC SSC2 op -S -o 3
    - - R SSC2 C +MODE:OK
  - - SSC SSC2 sta -D
    - - 'R SSC2 C +QAP:'
  - - SSC SSC2 soc -T
    - - R SSC2 C +CLOSEALL
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC2 dhcp -S -o 1
    - - R SSC2 C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
- tag: T2_3
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT1 set to STA+SoftAP mode, DUT2 set to STA+SoftAP mode
  check cmd set:
  - ''
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:2
  - - SSC SSC2 op -Q
    - - R SSC2 C +CURMODE:3
  - - SSC SSC2 sta -D
    - - 'R SSC2 C +QAP:'
  - - SSC SSC2 soc -T
    - - R SSC2 C +CLOSEALL
  - - SSC SSC1 dhcp -Q -o 2
    - - R SSC1 C +DHCP:AP,STARTED
  - - SSC SSC2 dhcp -Q -o 1
    - - R SSC2 C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 2
    - - R SSC1 P <target_ap_mac>
  - - SSC SSC2 mac -Q -o 1
    - - R SSC2 P <target2_mac>
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC2 op -S -o 3
    - - R SSC2 C +MODE:OK
  - - SSC SSC2 sta -D
    - - 'R SSC2 C +QAP:'
  - - SSC SSC2 soc -T
    - - R SSC2 C +CLOSEALL
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC2 dhcp -S -o 1
    - - R SSC2 C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC2 reboot
    - - R SSC2 C !!!ready!!!
  - - SSC SSC1 op -S -o 2
    - - R SSC1 C +MODE:OK
  - - SSC SSC2 op -S -o 3
    - - R SSC2 C +MODE:OK
  - - SSC SSC2 sta -D
    - - 'R SSC2 C +QAP:'
  - - SSC SSC2 soc -T
    - - R SSC2 C +CLOSEALL
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC2 dhcp -S -o 1
    - - R SSC2 C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
- tag: T2_MDNS
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) Both DUT set to STA mode, connected with AP, restart MDNS
  check cmd set:
  - ''
  - - SSC SSC[1-2] op -Q
    - - R SSC[1-2] C+CURMODE:1
  - - SSC SSC[1-2] sta -Q
    - - R SSC[1-2] RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
  - - SSC SSC[1-2] dhcp -Q -o 1
    - - R SSC[1-2] C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 1
    - - R SSC1 P <target_mac>
  - - SSC SSC2 mac -Q -o 1
    - - R SSC2 P <target2_mac>
  - - SSC SSC[1-2] mdns -T
    - - R SSC[1-2] C +MDNS:OK
  - - SSC SSC[1-2] mdns -I
    - - R SSC[1-2] C +MDNS:OK
  restore cmd set:
  - ''
  - - SSC SSC[1-2] op -S -o [1,1]
    - - R SSC[1-2] C +MODE:OK
  - - SSC SSC[1-2] dhcp -S -o 1
    - - R SSC[1-2] C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
  - - SSC SSC[1-2] sta -C -s <ap_ssid> -p <ap_password>
    - - R SSC[1-2] RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
  - - SSC SSC[1-2] mdns -T
    - - R SSC[1-2] C +MDNS:OK
  - - SSC SSC[1-2] mdns -I
    - - R SSC[1-2] C +MDNS:OK
  force restore cmd set:
  - ''
  - - SSC SSC[1-2] reboot
    - - R SSC[1-2] C !!!ready!!!
  - - SSC SSC[1-2] op -S -o 1
    - - R SSC[1-2] C +MODE:OK
  - - SSC SSC[1-2] dhcp -S -o 1
    - - R SSC[1-2] C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
  - - SSC SSC[1-2] sta -C -s <ap_ssid> -p <ap_password>
    - - R SSC[1-2] RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
  - - SSC SSC[1-2] mdns -T
    - - R SSC[1-2] C +MDNS:OK
  - - SSC SSC[1-2] mdns -I
    - - R SSC[1-2] C +MDNS:OK
- tag: T2_MDNS_MODE1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT1 set to STA mode, DUT2 set to SoftAP mode, DUT1 connected with DUT2, restart MDNS
  check cmd set:
  - ''
  - - SSC SSC1 op -Q
    - - R SSC1 C+CURMODE:1
  - - SSC SSC2 op -Q
    - - R SSC2 C+CURMODE:2
  - - SSC SSC1 sta -Q
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC2 ap -Q
    - - R SSC2 RE "\+APCONFIG:%%s,%%s,7,\d+,\d+,4,"%%(<target_ssid>,<target_password>)
  - - SSC SSC1 dhcp -Q -o 1
    - - R SSC1 C +DHCP:STA,STARTED
  - - SSC SSC2 dhcp -Q -o 2
    - - R SSC2 C +DHCP:AP,STARTED
  - - SSC SSC1 mac -Q -o 1
    - - R SSC1 P <target_mac>
  - - SSC SSC2 mac -Q -o 2
    - - R SSC2 P <target2_ap_mac>
  - - SSC SSC[1-2] mdns -T
    - - R SSC[1-2] C +MDNS:OK
  - - SSC SSC[1-2] mdns -I
    - - R SSC[1-2] C +MDNS:OK
  restore cmd set:
  - ''
  - - SSC SSC[1-2] op -S -o [1,2]
    - - R SSC[1-2] C +MODE:OK
  - - SSC SSC[1-2] dhcp -S -o [1,2]
    - - R SSC[1-2] C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC2 mac -S -o 2 -m <target2_ap_mac>
    - - R SSC2 C +MAC:AP,OK
  - - SSC SSC2 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 7
    - - R SSC2 C +SAP:OK
  - - SSC SSC1 sta -C -s <target_ssid> -p <target_password>
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC[1-2] mdns -T
    - - R SSC[1-2] C +MDNS:OK
  - - SSC SSC[1-2] mdns -I
    - - R SSC[1-2] C +MDNS:OK
  force restore cmd set:
  - ''
  - - SSC SSC[1-2] reboot
    - - R SSC[1-2] C !!!ready!!!
  - - SSC SSC[1-2] op -S -o [1,2]
    - - R SSC[1-2] C +MODE:OK
  - - SSC SSC[1-2] dhcp -S -o [1,2]
    - - R SSC[1-2] C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC2 mac -S -o 2 -m <target2_ap_mac>
    - - R SSC2 C +MAC:AP,OK
  - - SSC SSC2 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 7
    - - R SSC2 C +SAP:OK
  - - SSC SSC1 sta -C -s <target_ssid> -p <target_password>
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC[1-2] mdns -T
    - - R SSC[1-2] C +MDNS:OK
  - - SSC SSC[1-2] mdns -I
    - - R SSC[1-2] C +MDNS:OK
- tag: T2_MDNS_MODE2
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT1 set to SoftAP mode, DUT2 set to STA mode, DUT1 connected with DUT2, restart MDNS
  check cmd set:
  - ''
  - - SSC SSC1 op -Q
    - - R SSC1 C+CURMODE:2
  - - SSC SSC2 op -Q
    - - R SSC2 C+CURMODE:1
  - - SSC SSC1 ap -Q
    - - R SSC1 RE "\+APCONFIG:%%s,%%s,7,\d+,\d+,4,"%%(<target_ssid>,<target_password>)
  - - SSC SSC2 sta -Q
    - - R SSC2 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC1 dhcp -Q -o 2
    - - R SSC1 C +DHCP:AP,STARTED
  - - SSC SSC2 dhcp -Q -o 1
    - - R SSC2 C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 2
    - - R SSC1 P <target_ap_mac>
  - - SSC SSC2 mac -Q -o 1
    - - R SSC2 P <target2_mac>
  - - SSC SSC[1-2] mdns -T
    - - R SSC[1-2] C +MDNS:OK
  - - SSC SSC[1-2] mdns -I
    - - R SSC[1-2] C +MDNS:OK
  restore cmd set:
  - ''
  - - SSC SSC[1-2] op -S -o [2,1]
    - - R SSC[1-2] C +MODE:OK
  - - SSC SSC[1-2] dhcp -S -o [2,1]
    - - R SSC[1-2] C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 7
    - - R SSC1 C +SAP:OK
  - - SSC SSC2 sta -C -s <target_ssid> -p <target_password>
    - - R SSC2 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC[1-2] mdns -T
    - - R SSC[1-2] C +MDNS:OK
  - - SSC SSC[1-2] mdns -I
    - - R SSC[1-2] C +MDNS:OK
  force restore cmd set:
  - ''
  - - SSC SSC[1-2] reboot
    - - R SSC[1-2] C !!!ready!!!
  - - SSC SSC[1-2] op -S -o [2,1]
    - - R SSC[1-2] C +MODE:OK
  - - SSC SSC[1-2] dhcp -S -o [2,1]
    - - R SSC[1-2] C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 7
    - - R SSC1 C +SAP:OK
  - - SSC SSC2 sta -C -s <target_ssid> -p <target_password>
    - - R SSC2 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC[1-2] mdns -T
    - - R SSC[1-2] C +MDNS:OK
  - - SSC SSC[1-2] mdns -I
    - - R SSC[1-2] C +MDNS:OK
- tag: T3_1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT1 set to STA+SoftAP mode, DUT2 and DUT3 set to STA mode
  check cmd set:
  - ''
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:3
  - - SSC SSC[2-3] op -Q
    - - R SSC[2-3] C +CURMODE:1
  - - SSC SSC[1-3] sta -D
    - - 'R SSC[1-3] C +QAP:'
  - - SSC SSC1 dhcp -S -o 2
    - - R SSC1 C +DHCP
  - - SSC SSC[2-3] dhcp -Q -o 1
    - - R SSC[2-3] C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 2
    - - R SSC1 P <target_ap_mac>
  - - SSC SSC2 mac -Q -o 1
    - - R SSC2 P <target2_mac>
  - - SSC SSC3 mac -Q -o 1
    - - R SSC3 P <target3_mac>
  restore cmd set:
  - ''
  - - SSC SSC[1-3] op -S -o [3,1,1]
    - - R SSC[1-3] C +MODE:OK
  - - SSC SSC[1-3] sta -D
    - - 'R SSC[1-3] C +QAP:'
  - - SSC SSC[1-3] dhcp -S -o [2,1,1]
    - - R SSC[1-3] C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
  - - SSC SSC3 mac -S -o 1 -m <target3_mac>
    - - R SSC3 C +MAC:STA,OK
  force restore cmd set:
  - ''
  - - SSC SSC[1-3] reboot
    - - R SSC[1-3] C !!!ready!!!
  - - SSC SSC[1-3] op -S -o [3,1,1]
    - - R SSC[1-3] C +MODE:OK
  - - SSC SSC[1-3] sta -D
    - - 'R SSC[1-3] C +QAP:'
  - - SSC SSC[1-3] dhcp -S -o [2,1,1]
    - - R SSC[1-3] C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
  - - SSC SSC3 mac -S -o 1 -m <target3_mac>
    - - R SSC3 C +MAC:STA,OK
- tag: T3_2
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT1 set to SoftAP mode, DUT2 as STA mode
  check cmd set:
  - ''
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:2
  - - SSC SSC2 op -Q
    - - R SSC2 C +CURMODE:1
  - - SSC SSC3 op -Q
    - - R SSC3 C +CURMODE:2
  - - SSC SSC2 sta -D
    - - 'R SSC2 C +QAP:'
  - - SSC SSC2 soc -T
    - - ''
  - - SSC SSC1 dhcp -Q -o 2
    - - R SSC1 C +DHCP:AP,STARTED
  - - SSC SSC2 dhcp -Q -o 1
    - - R SSC2 C +DHCP:STA,STARTED
  - - SSC SSC3 dhcp -Q -o 2
    - - R SSC3 C +DHCP:AP,STARTED
  - - SSC SSC1 mac -Q -o 2
    - - R SSC1 P <target_ap_mac>
  - - SSC SSC2 mac -Q -o 1
    - - R SSC2 P <target2_mac>
  - - SSC SSC3 mac -Q -o 2
    - - R SSC3 P <target3_ap_mac>
  restore cmd set:
  - ''
  - - SSC SSC[1-3] op -S -o [2,1,2]
    - - R SSC[1-3] C +MODE:OK
  - - SSC SSC2 sta -D
    - - 'R SSC2 C +QAP:'
  - - SSC SSC2 soc -T
    - - ''
  - - SSC SSC[1-3] dhcp -S -o [2,1,2]
    - - R SSC[1-3] C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
  - - SSC SSC3 mac -S -o 2 -m <target3_ap_mac>
    - - R SSC3 C +MAC:AP,OK
  force restore cmd set:
  - ''
  - - SSC SSC[1-3] reboot
    - - R SSC[1-3] C !!!ready!!!
  - - SSC SSC[1-3] op -S -o [2,1,2]
    - - R SSC[1-3] C +MODE:OK
  - - SSC SSC2 sta -D
    - - 'R SSC2 C +QAP:'
  - - SSC SSC2 soc -T
    - - ''
  - - SSC SSC[1-3] dhcp -S -o [2,1,2]
    - - R SSC[1-3] C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
  - - SSC SSC3 mac -S -o 2 -m <target3_ap_mac>
    - - R SSC3 C +MAC:AP,OK
- tag: T3_3
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT1 set to SoftAp mode, DUT2-3 set to STA mode
  check cmd set:
  - ''
  - - SSC SSC[1,2,3] op -Q
    - - R SSC[1,2,3] C +CURMODE:[2,1,1]
  - - SSC SSC[2,3] sta -D
    - - 'R SSC[2,3] C +QAP:'
  restore cmd set:
  - ''
  - - SSC SSC[1,2,3] op -S -o [2,1,1]
    - - R SSC[1,2,3] C +MODE:OK
  - - SSC SSC[2,3] sta -D
    - - 'R SSC[2,3] C +QAP:'
  force restore cmd set:
  - ''
  - - SSC SSC[1,2,3] reboot
    - - R SSC[1,2,3] C !!!ready!!!
  - - SSC SSC[1,2,3] op -S -o [2,1,1]
    - - R SSC[1,2,3] C +MODE:OK
  - - SSC SSC[2,3] sta -D
    - - 'R SSC[2,3] C +QAP:'
- tag: T3_MDNS
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) All 3 DUTs set to STA mode, connected with AP, restart MDNS
  check cmd set:
  - ''
  - - SSC SSC[1-3] op -Q
    - - R SSC[1-3] C +CURMODE:1
  - - SSC SSC[1-3] sta -Q
    - - R SSC[1-3] RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
  - - SSC SSC[1-3] dhcp -Q -o 1
    - - R SSC[1-3] C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 1
    - - R SSC1 P <target_mac>
  - - SSC SSC2 mac -Q -o 1
    - - R SSC2 P <target2_mac>
  - - SSC SSC3 mac -Q -o 1
    - - R SSC3 P <target3_mac>
  - - SSC SSC[1-3] mdns -T
    - - R SSC[1-3] C +MDNS:OK
  - - SSC SSC[1-3] mdns -I
    - - R SSC[1-3] C +MDNS:OK
  restore cmd set:
  - ''
  - - SSC SSC[1-3] op -S -o 1
    - - R SSC[1-3] C +MODE:OK
  - - SSC SSC[1-3] dhcp -S -o 1
    - - R SSC[1-3] C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
  - - SSC SSC3 mac -S -o 1 -m <target3_mac>
    - - R SSC3 C +MAC:STA,OK
  - - SSC SSC[1-3] sta -C -s <ap_ssid> -p <ap_password>
    - - R SSC[1-3] RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
  - - SSC SSC[1-3] mdns -T
    - - R SSC[1-3] C +MDNS:OK
  - - SSC SSC[1-3] mdns -I
    - - R SSC[1-3] C +MDNS:OK
  force restore cmd set:
  - ''
  - - SSC SSC[1-3] reboot
    - - R SSC[1-3] C !!!ready!!!
  - - SSC SSC[1-3] op -S -o 1
    - - R SSC[1-3] C +MODE:OK
  - - SSC SSC[1-3] dhcp -S -o 1
    - - R SSC[1-3] C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
  - - SSC SSC3 mac -S -o 1 -m <target3_mac>
    - - R SSC3 C +MAC:STA,OK
  - - SSC SSC[1-3] sta -C -s <ap_ssid> -p <ap_password>
    - - R SSC[1-3] RE "\+JAP:CONNECTED,%%s"%%(<ap_ssid>)
  - - SSC SSC[1-3] mdns -T
    - - R SSC[1-3] C +MDNS:OK
  - - SSC SSC[1-3] mdns -I
    - - R SSC[1-3] C +MDNS:OK
- tag: T3_MDNS_MODE1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT1 and DUT2 set to STA mode, DUT3 set to SoftAP mode, DUT1 and DUT2 connected with DUT3, restart MDNS on all DUTs
  check cmd set:
  - ''
  - - SSC SSC[1-2] op -Q
    - - R SSC[1-2] C +CURMODE:1
  - - SSC SSC3 op -Q
    - - R SSC3 C +CURMODE:2
  - - SSC SSC[1-2] sta -Q
    - - R SSC[1-2] RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC3 ap -Q
    - - R SSC3 RE "\+APCONFIG:%%s,%%s,7,\d+,\d+,4,"%%(<target_ssid>,<target_password>)
  - - SSC SSC[1-2] dhcp -Q -o 1
    - - R SSC[1-2] C +DHCP:STA,STARTED
  - - SSC SSC3 dhcp -Q -o 2
    - - R SSC3 C +DHCP:AP,STARTED
  - - SSC SSC1 mac -Q -o 1
    - - R SSC1 P <target_mac>
  - - SSC SSC2 mac -Q -o 1
    - - R SSC2 P <target2_mac>
  - - SSC SSC3 mac -Q -o 2
    - - R SSC3 P <target3_ap_mac>
  - - SSC SSC[1-3] mdns -T
    - - R SSC[1-3] C +MDNS:OK
  - - SSC SSC[1-3] mdns -I
    - - R SSC[1-3] C +MDNS:OK
  restore cmd set:
  - ''
  - - SSC SSC[1-3] op -S -o [1,1,2]
    - - R SSC[1-3] C +MODE:OK
  - - SSC SSC[1-3] dhcp -S -o [1,1,2]
    - - R SSC[1-3] C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
  - - SSC SSC3 mac -S -o 2 -m <target3_ap_mac>
    - - R SSC3 C +MAC:AP,OK
  - - SSC SSC3 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 7
    - - R SSC3 C +SAP:OK
  - - SSC SSC[1-2] sta -C -s <target_ssid> -p <target_password>
    - - R SSC[1-2] RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC[1-3] mdns -T
    - - R SSC[1-3] C +MDNS:OK
  - - SSC SSC[1-3] mdns -I
    - - R SSC[1-3] C +MDNS:OK
  force restore cmd set:
  - ''
  - - SSC SSC[1-3] reboot
    - - R SSC[1-3] C !!!ready!!!
  - - SSC SSC[1-3] op -S -o [1,1,2]
    - - R SSC[1-3] C +MODE:OK
  - - SSC SSC[1-3] dhcp -S -o [1,1,2]
    - - R SSC[1-3] C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
  - - SSC SSC3 mac -S -o 2 -m <target3_ap_mac>
    - - R SSC3 C +MAC:AP,OK
  - - SSC SSC3 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 7
    - - R SSC3 C +SAP:OK
  - - SSC SSC[1-2] sta -C -s <target_ssid> -p <target_password>
    - - R SSC[1-2] RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC[1-3] mdns -T
    - - R SSC[1-3] C +MDNS:OK
  - - SSC SSC[1-3] mdns -I
    - - R SSC[1-3] C +MDNS:OK
- tag: T3_MDNS_MODE2
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT1 and DUT3 set to STA mode, DUT2 set to SoftAP mode, DUT1 and DUT3 connected with DUT2, restart MDNS on all DUTs
  check cmd set:
  - ''
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:1
  - - SSC SSC2 op -Q
    - - R SSC2 C +CURMODE:2
  - - SSC SSC3 op -Q
    - - R SSC3 C +CURMODE:1
  - - SSC SSC1 sta -Q
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC2 ap -Q
    - - R SSC2 RE "\+APCONFIG:%%s,%%s,7,\d+,\d+,4,"%%(<target_ssid>,<target_password>)
  - - SSC SSC3 sta -Q
    - - R SSC3 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC1 dhcp -Q -o 1
    - - R SSC1 C +DHCP:STA,STARTED
  - - SSC SSC2 dhcp -Q -o 2
    - - R SSC2 C +DHCP:AP,STARTED
  - - SSC SSC3 dhcp -Q -o 1
    - - R SSC3 C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 1
    - - R SSC1 P <target_mac>
  - - SSC SSC2 mac -Q -o 2
    - - R SSC2 P <target2_ap_mac>
  - - SSC SSC3 mac -Q -o 1
    - - R SSC3 P <target3_mac>
  - - SSC SSC[1-3] mdns -T
    - - R SSC[1-3] C +MDNS:OK
  - - SSC SSC[1-3] mdns -I
    - - R SSC[1-3] C +MDNS:OK
  restore cmd set:
  - ''
  - - SSC SSC[1-3] op -S -o [1,2,1]
    - - R SSC[1-3] C +MODE:OK
  - - SSC SSC[1-3] dhcp -S -o [1,2,1]
    - - R SSC[1-3] C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC2 mac -S -o 2 -m <target2_ap_mac>
    - - R SSC2 C +MAC:AP,OK
  - - SSC SSC3 mac -S -o 1 -m <target3_mac>
    - - R SSC3 C +MAC:STA,OK
  - - SSC SSC2 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 7
    - - R SSC2 C +SAP:OK
  - - SSC SSC1 sta -C -s <target_ssid> -p <target_password>
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC3 sta -C -s <target_ssid> -p <target_password>
    - - R SSC3 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC[1-3] mdns -T
    - - R SSC[1-3] C +MDNS:OK
  - - SSC SSC[1-3] mdns -I
    - - R SSC[1-3] C +MDNS:OK
  force restore cmd set:
  - ''
  - - SSC SSC[1-3] reboot
    - - R SSC[1-3] C !!!ready!!!
  - - SSC SSC[1-3] op -S -o [1,2,1]
    - - R SSC[1-3] C +MODE:OK
  - - SSC SSC[1-3] dhcp -S -o [1,2,1]
    - - R SSC[1-3] C +DHCP
  - - SSC SSC1 mac -S -o 1 -m <target_mac>
    - - R SSC1 C +MAC:STA,OK
  - - SSC SSC2 mac -S -o 2 -m <target2_ap_mac>
    - - R SSC2 C +MAC:AP,OK
  - - SSC SSC3 mac -S -o 1 -m <target3_mac>
    - - R SSC3 C +MAC:STA,OK
  - - SSC SSC2 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 7
    - - R SSC2 C +SAP:OK
  - - SSC SSC1 sta -C -s <target_ssid> -p <target_password>
    - - R SSC1 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC3 sta -C -s <target_ssid> -p <target_password>
    - - R SSC3 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC[1-3] mdns -T
    - - R SSC[1-3] C +MDNS:OK
  - - SSC SSC[1-3] mdns -I
    - - R SSC[1-3] C +MDNS:OK
- tag: T3_MDNS_MODE3
  <<: *SSC_INIT_COND
  initial condition detail: softap + sta + sta mode, sta join softap, DHCP on, mdns stop
  check cmd set:
  - ''
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:2
  - - SSC SSC2 op -Q
    - - R SSC2 C +CURMODE:1
  - - SSC SSC3 op -Q
    - - R SSC3 C +CURMODE:1
  - - SSC SSC1 ap -Q
    - - R SSC1 RE "\+APCONFIG:%%s,%%s,7,\d+,\d+,4,"%%(<target_ssid>,<target_password>)
  - - SSC SSC2 sta -Q
    - - R SSC2 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC3 sta -Q
    - - R SSC3 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC1 dhcp -Q -o 2
    - - R SSC1 C +DHCP:AP,STARTED
  - - SSC SSC2 dhcp -Q -o 1
    - - R SSC2 C +DHCP:STA,STARTED
  - - SSC SSC3 dhcp -Q -o 1
    - - R SSC3 C +DHCP:STA,STARTED
  - - SSC SSC1 mac -Q -o 2
    - - R SSC1 P <target_ap_mac>
  - - SSC SSC2 mac -Q -o 1
    - - R SSC2 P <target2_mac>
  - - SSC SSC3 mac -Q -o 1
    - - R SSC3 P <target3_mac>
  - - SSC SSC[1-3] mdns -T
    - - R SSC[1-3] C +MDNS:OK
  - - SSC SSC[1-3] mdns -I
    - - R SSC[1-3] C +MDNS:OK
  restore cmd set:
  - ''
  - - SSC SSC[1-3] op -S -o [2,1,1]
    - - R SSC[1-3] C +MODE:OK
  - - SSC SSC[1-3] dhcp -S -o [2,1,1]
    - - R SSC[1-3] C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
  - - SSC SSC3 mac -S -o 1 -m <target3_mac>
    - - R SSC3 C +MAC:STA,OK
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 7
    - - R SSC1 C +SAP:OK
  - - SSC SSC2 sta -C -s <target_ssid> -p <target_password>
    - - R SSC2 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC3 sta -C -s <target_ssid> -p <target_password>
    - - R SSC3 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC[1-3] mdns -T
    - - R SSC[1-3] C +MDNS:OK
  - - SSC SSC[1-3] mdns -I
    - - R SSC[1-3] C +MDNS:OK
  force restore cmd set:
  - ''
  - - SSC SSC[1-3] reboot
    - - R SSC[1-3] C !!!ready!!!
  - - SSC SSC[1-3] op -S -o [2,1,1]
    - - R SSC[1-3] C +MODE:OK
  - - SSC SSC[1-3] dhcp -S -o [2,1,1]
    - - R SSC[1-3] C +DHCP
  - - SSC SSC1 mac -S -o 2 -m <target_ap_mac>
    - - R SSC1 C +MAC:AP,OK
  - - SSC SSC2 mac -S -o 1 -m <target2_mac>
    - - R SSC2 C +MAC:STA,OK
  - - SSC SSC3 mac -S -o 1 -m <target3_mac>
    - - R SSC3 C +MAC:STA,OK
  - - SSC SSC1 ap -S -s <target_ssid> -p <target_password> -t <target_auth_enum> -n 7
    - - R SSC1 C +SAP:OK
  - - SSC SSC2 sta -C -s <target_ssid> -p <target_password>
    - - R SSC2 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC3 sta -C -s <target_ssid> -p <target_password>
    - - R SSC3 RE "\+JAP:CONNECTED,%%s"%%(<target_ssid>)
  - - SSC SSC[1-3] mdns -T
    - - R SSC[1-3] C +MDNS:OK
  - - SSC SSC[1-3] mdns -I
    - - R SSC[1-3] C +MDNS:OK
- tag: T3_PHY1
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT1-2 set to STA+SoftAP mode, DUT3 set to STA mode. All interface of DUT2-3 set to 11n ht40. Set DUT1-2 SoftAP config.
  check cmd set:
  - ''
  - - SSC SSC[1-3] op -Q
    - - R SSC[1-3] C +CURMODE:3
  - - SSC SSC[1-3] phy -Q -o 3
    - - R SSC[1-3] C STA,n,40 C AP,n,40
  restore cmd set:
  - ''
  - - SSC SSC[1-3] op -S -o 3
    - - R SSC[1-3] C +MODE:OK
  - - SSC SSC[1-3] phy -S -o 3 -m n -b 40
    - - R SSC[1-3] C +PHY:OK
  force restore cmd set:
  - ''
  - - SSC SSC[1-3] reboot
    - - R SSC[1-3] C !!!ready!!!
  - - SSC SSC[1-3] op -S -o 3
    - - R SSC[1-3] C +MODE:OK
  - - SSC SSC[1-3] phy -S -o 3 -m n -b 40
    - - R SSC[1-3] C +PHY:OK
  restore post cmd set:
  - ''
  - - SSC SSC1 soc -T
    - - R SSC1 C +CLOSEALL
  - - SSC SSC1 sta -R -r 1
    - - R SSC1 C OK
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
- tag: WIFIBTSTOP
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) deinit Wi-Fi and BT host/controller
  check cmd set:
  - ''
  - - SSC SSC1 op -Q
    - - R SSC1 C +CURMODE:3
  - - SSC SSC1 op -W -a init
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a start
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a stop
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a deinit
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 btc -D -z stop
    - - 'R SSC1 C +BTC:'
  - - SSC SSC1 bt -D -z stop
    - - 'R SSC1 C +BT:'
  - - SSC SSC1 bt -D -z disable
    - - 'R SSC1 C +BT:'
  - - SSC SSC1 bt -D -z deinit
    - - 'R SSC1 C +BT:'
  restore cmd set:
  - ''
  - - SSC SSC1 op -S -o 3
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a init
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a start
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a stop
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a deinit
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 btc -D -z stop
    - - 'R SSC1 C +BTC:'
  - - SSC SSC1 bt -D -z stop
    - - 'R SSC1 C +BT:'
  - - SSC SSC1 bt -D -z disable
    - - 'R SSC1 C +BT:'
  - - SSC SSC1 bt -D -z deinit
    - - 'R SSC1 C +BT:'
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -S -o 3
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a init
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a start
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a stop
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a deinit
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 btc -D -z stop
    - - 'R SSC1 C +BTC:'
  - - SSC SSC1 bt -D -z stop
    - - 'R SSC1 C +BT:'
  - - SSC SSC1 bt -D -z disable
    - - 'R SSC1 C +BT:'
  - - SSC SSC1 bt -D -z deinit
    - - 'R SSC1 C +BT:'
- tag: WIFISTO
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) DUT in STA mode, stop Wi-Fi
  check cmd set:
  - ''
  - - SSC SSC1 op -W -a init
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a start
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a stop
    - - R SSC1 C +MODE:OK
  restore cmd set:
  - ''
  - - SSC SSC1 op -W -a init
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a start
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a stop
    - - R SSC1 C +MODE:OK
  force restore cmd set:
  - ''
  - - SSC SSC1 reboot
    - - R SSC1 C !!!ready!!!
  - - SSC SSC1 op -W -a init
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a start
    - - R SSC1 C +MODE:OK
  - - SSC SSC1 op -W -a stop
    - - R SSC1 C +MODE:OK
- tag: BLE_INIT_REBOOT2
  <<: *SSC_INIT_COND
  initial condition detail: (SSC) reboot and enable BLE on DUT1 and DUT2
  check cmd set:
  - ''
  - - SSC SSC[1-2] reboot
    - - R SSC[1-2] C !!!ready!!!
  - - SSC SSC[1-2] ble -R
    - - 'R SSC[1-2] C +BLE:'
  restore cmd set:
  - ''
  - - SSC SSC[1-2] bt -D -z init
    - - 'R SSC[1-2] C +BT:'
  - - SSC SSC[1-2] bt -D -z enable
    - - 'R SSC[1-2] C +BT:'
  force restore cmd set:
  - ''
  - - SSC SSC[1-2] reboot
    - - R SSC[1-2] C !!!ready!!!
  - - SSC SSC[1-2] bt -D -z init
    - - 'R SSC[1-2] C +BT:'
  - - SSC SSC[1-2] bt -D -z enable
    - - 'R SSC[1-2] C +BT:'
  restore post cmd set:
  - ''
  - - SSC SSC[1-2] ble -R
    - - 'R SSC[1-2] C +BLE:'
  - - SSC SSC[1-2] bleconn -D -z all
    - - 'R SSC[1-2] C +BLECONN:'
  - - SSC SSC[1-2] blesmp -B -z clear
    - - R SSC[1-2] C +BLESMP:ClearBond,Success
  - - SSC SSC[1-2] gatts -S -z delete
    - - 'R SSC[1-2] C +GATTS:'
  - - SSC SSC[1-2] gattc -U -z all
    - - R SSC[1-2] C +GATTC:OK
  - - SSC SSC[1-2] bleadv -D -z stop
    - - R SSC[1-2] C +BLEADV:Stop
  - - SSC SSC[1-2] ble -S -z public
    - - R SSC[1-2] C +BLE:OK
  - - SSC SSC1 ram
    - - R SSC1 A <heap_size>:(\d+)
