name: Create recursive zip file for release

on:
  workflow_dispatch:

jobs:
  release_zips:
    name: Create release zip files
    runs-on: ubuntu-24.04
    steps:
      - name: Create a recursive clone source zip for a Release
        uses: vsaltxx/release-zips-action@feat/git-extra-args
        env:
          RELEASE_PROJECT_NAME: ESP-IDF
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          git_extra_args: '--shallow-since="1 year ago"'
